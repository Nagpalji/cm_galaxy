{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import React,{useState}from\"react\";import{toast,ToastContainer}from\"react-toastify\";import{Table}from\"reactstrap\";import*as Icons from'react-icons/fa';// import * as Icons from 'react-icons';\n// import Icon from \"react-icons\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function PermissionTable(_ref){var data=_ref.data;var DynamicFaIcon=function DynamicFaIcon(name){var IconComponent=Icons[name];if(!IconComponent){// Return a default one\nreturn/*#__PURE__*/_jsx(Icons.FaBeer,{});}return/*#__PURE__*/_jsx(IconComponent,{});};var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var request,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"https://srvr1px.cyberads.io/permissionFormDelete/\",{id:id});case 3:request=_context.sent;_context.next=6;return request===null||request===void 0?void 0:request.data;case 6:response=_context.sent;// setPermisson(response)\ntoast.success(\"Deleted SuccessFully ...\");window.location.href=\"\";_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);toast.error(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(Table,{responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Sno.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"label\"}),/*#__PURE__*/_jsx(\"th\",{children:\"path\"}),/*#__PURE__*/_jsx(\"th\",{children:\"icon\"}),/*#__PURE__*/_jsx(\"th\",{children:\"action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data&&data.map(function(val,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index}),/*#__PURE__*/_jsx(\"td\",{children:val.label}),/*#__PURE__*/_jsx(\"td\",{children:val.path}),/*#__PURE__*/_jsx(\"td\",{children:DynamicFaIcon(val.icon)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return console.log(e);},className:\"btn btn-primary mr-1\",children:[\" \",\"edit\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){handleDelete(val===null||val===void 0?void 0:val._id);},className:\"btn btn-danger\",children:[\" \",\"Delete\",\" \"]})]})})]})});})})]})]});}","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/Permissions/PermissionTable.js"],"names":["axios","React","useState","toast","ToastContainer","Table","Icons","PermissionTable","data","DynamicFaIcon","name","IconComponent","handleDelete","id","post","request","response","success","window","location","href","error","message","map","val","index","label","path","icon","e","console","log","_id"],"mappings":"yVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,KAAT,CAAgBC,cAAhB,KAAsC,gBAAtC,CACA,OAASC,KAAT,KAAsB,YAAtB,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,gBAAvB,CACA;AACA;6IAEA,cAAe,SAASC,CAAAA,eAAT,MAAiC,IAAPC,CAAAA,IAAO,MAAPA,IAAO,CAC9C,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,CAAU,CAC9B,GAAMC,CAAAA,aAAa,CAAGL,KAAK,CAACI,IAAD,CAA3B,CAEA,GAAI,CAACC,aAAL,CAAoB,CAAE;AACpB,mBAAO,KAAC,KAAD,CAAO,MAAP,IAAP,CACD,CAED,mBAAO,KAAC,aAAD,IAAP,CACD,CARD,CAUA,GAAMC,CAAAA,YAAY,2FAAG,iBAAOC,EAAP,6KAEKb,CAAAA,KAAK,CAACc,IAAN,CAAW,mDAAX,CAAgE,CACpFD,EAAE,CAAFA,EADoF,CAAhE,CAFL,QAEXE,OAFW,qCAKMA,CAAAA,OALN,SAKMA,OALN,iBAKMA,OAAO,CAAEP,IALf,QAKXQ,QALW,eAMjB;AACAb,KAAK,CAACc,OAAN,CAAc,0BAAd,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,EAAvB,CARiB,iFAUjBjB,KAAK,CAACkB,KAAN,CAAY,YAAMC,OAAlB,EAViB,qEAAH,kBAAZV,CAAAA,YAAY,6CAAlB,CAaA,mBACE,wCACE,KAAC,cAAD,IADF,cAEE,MAAC,KAAD,EAAO,UAAU,CAAE,IAAnB,wBACE,oCACE,mCACE,4BADF,cAEE,6BAFF,cAGE,4BAHF,cAIE,4BAJF,cAKE,8BALF,GADF,EADF,cAUE,uBAEKJ,IAAI,EAAIA,IAAI,CAACe,GAAL,CAAS,SAACC,GAAD,CAAMC,KAAN,CAAgB,CAEhC,mBACE,sCACA,mCACE,oBAAKA,KAAL,EADF,cAGE,oBAAKD,GAAG,CAACE,KAAT,EAHF,cAIE,oBAAKF,GAAG,CAACG,IAAT,EAJF,cAKE,oBAAKlB,aAAa,CAACe,GAAG,CAACI,IAAL,CAAlB,EALF,cAME,iCACE,oCACE,gBACE,OAAO,CAAE,iBAACC,CAAD,QAAOC,CAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAP,EADX,CAEE,SAAS,CAAC,sBAFZ,WAIG,GAJH,QAKO,GALP,GADF,cAQE,gBACE,OAAO,CAAE,iBAACA,CAAD,CAAO,CACdjB,YAAY,CAACY,GAAD,SAACA,GAAD,iBAACA,GAAG,CAAEQ,GAAN,CAAZ,CACD,CAHH,CAIE,SAAS,CAAC,gBAJZ,WAMG,GANH,UAOS,GAPT,GARF,GADF,EANF,GADA,EADF,CA+BD,CAjCQ,CAFb,EAVF,GAFF,GADF,CAqDD","sourcesContent":["import axios from \"axios\"\r\nimport React, { useState } from \"react\"\r\nimport { toast, ToastContainer } from \"react-toastify\"\r\nimport { Table } from \"reactstrap\"\r\nimport * as Icons from 'react-icons/fa'\r\n// import * as Icons from 'react-icons';\r\n// import Icon from \"react-icons\"\r\n\r\nexport default function PermissionTable({data}) {\r\n  const DynamicFaIcon = (name) => {\r\n    const IconComponent = Icons[name]\r\n  \r\n    if (!IconComponent) { // Return a default one\r\n      return <Icons.FaBeer />\r\n    }\r\n  \r\n    return <IconComponent />\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      const request = await axios.post(\"https://srvr1px.cyberads.io/permissionFormDelete/\", {\r\n        id\r\n      })\r\n      const response = await request?.data\r\n      // setPermisson(response)\r\n      toast.success(\"Deleted SuccessFully ...\")\r\n      window.location.href = \"\"\r\n    } catch (error) {\r\n      toast.error(error.message)\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <Table responsive={true}>\r\n        <thead>\r\n          <tr>\r\n            <th>Sno.</th>\r\n            <th>label</th>\r\n            <th>path</th>\r\n            <th>icon</th>\r\n            <th>action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          \r\n            {data && data.map((val, index) => {\r\n                \r\n              return (\r\n                <>\r\n                <tr>\r\n                  <td>{index}</td>\r\n                  {/* <td>{<Icons.FaHome />} {val.label}</td> */}\r\n                  <td>{val.label}</td>\r\n                  <td>{val.path}</td>\r\n                  <td>{DynamicFaIcon(val.icon)}</td>\r\n                  <td>\r\n                    <div>\r\n                      <button\r\n                        onClick={(e) => console.log(e)}\r\n                        className=\"btn btn-primary mr-1\"\r\n                      >\r\n                        {\" \"}\r\n                        edit{\" \"}\r\n                      </button>\r\n                      <button\r\n                        onClick={(e) => {\r\n                          handleDelete(val?._id)\r\n                        }}\r\n                        className=\"btn btn-danger\"\r\n                      >\r\n                        {\" \"}\r\n                        Delete{\" \"}\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                  </tr>\r\n                </>\r\n              )\r\n            })}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}