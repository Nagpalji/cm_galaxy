{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ** React Imports\nimport{useEffect,Fragment,useState}from'react';import{Link}from'react-router-dom';// ** Custom Components\nimport NumberInput from'@components/number-input';// ** Third Party Components\nimport{ShoppingCart,X}from'react-feather';import PerfectScrollbar from'react-perfect-scrollbar';import{Dropdown,DropdownMenu,DropdownToggle,DropdownItem,Media,Badge,Button}from'reactstrap';// ** Store & Actions\nimport{useDispatch,useSelector}from'react-redux';import{getCartItems,deleteCartItem,getProduct}from'@src/views/apps/ecommerce/store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartDropdown=function CartDropdown(){// ** State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),dropdownOpen=_useState2[0],setDropdownOpen=_useState2[1];// ** Store Vars\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.ecommerce;});// ** ComponentDidMount\nuseEffect(function(){dispatch(getCartItems());},[]);// ** Function to toggle Dropdown\nvar toggle=function toggle(){return setDropdownOpen(function(prevState){return!prevState;});};// ** Function to call on Dropdown Item Click\nvar handleDropdownItemClick=function handleDropdownItemClick(id){dispatch(getProduct(id));toggle();};// ** Loops through Cart Array to return Cart Items\nvar renderCartItems=function renderCartItems(){if(store.cart.length){var total=0;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(PerfectScrollbar,{options:{wheelPropagation:false},className:\"scrollable-container media-list\",children:store.cart.map(function(item){total+=item.price;return/*#__PURE__*/_jsxs(Media,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block rounded mr-1\",src:item.image,alt:item.name,width:\"62\"}),/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(X,{size:14,className:\"cart-item-remove\",onClick:function onClick(){return dispatch(deleteCartItem(item.id));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-heading\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"cart-item-title\",children:/*#__PURE__*/_jsx(Link,{className:\"text-body\",to:\"/apps/ecommerce/product/\".concat(item.slug),onClick:function onClick(){return handleDropdownItemClick(item.id);},children:item.name})}),/*#__PURE__*/_jsxs(\"small\",{className:\"cart-item-by\",children:[\"by \",item.brand]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-qty\",children:/*#__PURE__*/_jsx(NumberInput,{min:1,max:10,size:\"sm\",className:\"p-0\",value:item.qty,style:{width:'7rem',height:'2.15rem'}})}),/*#__PURE__*/_jsxs(\"h5\",{className:\"cart-item-price\",children:[\"$\",item.price]})]})]},item.id);})}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-menu-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-bolder mb-0\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-primary font-weight-bolder mb-0\",children:[\"$\",Number(total.toFixed(2))]})]}),/*#__PURE__*/_jsx(Button.Ripple,{tag:Link,to:\"/apps/ecommerce/checkout\",color:\"primary\",block:true,onClick:toggle,children:\"Checkout\"})]})]});}else{return/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-1 text-center\",children:\"Your cart is empty\"});}};return/*#__PURE__*/_jsxs(Dropdown,{isOpen:dropdownOpen,toggle:toggle,tag:\"li\",className:\"dropdown-cart nav-item mr-25\",children:[/*#__PURE__*/_jsxs(DropdownToggle,{tag:\"a\",className:\"nav-link position-relative\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"ficon\"}),store.cart.length>0?/*#__PURE__*/_jsx(Badge,{pill:true,color:\"primary\",className:\"badge-up\",children:store.cart.length}):null]}),/*#__PURE__*/_jsxs(DropdownMenu,{right:true,tag:\"ul\",className:\"dropdown-menu-media dropdown-cart mt-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"dropdown-menu-header\",children:/*#__PURE__*/_jsxs(DropdownItem,{tag:\"div\",className:\"d-flex\",header:true,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"notification-title mb-0 mr-auto\",children:\"My Cart\"}),/*#__PURE__*/_jsxs(Badge,{color:\"light-primary\",pill:true,children:[store.cart.length||0,\" Items\"]})]})}),renderCartItems()]})]});};export default CartDropdown;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/@core/layouts/components/navbar/CartDropdown.js"],"names":["useEffect","Fragment","useState","Link","NumberInput","ShoppingCart","X","PerfectScrollbar","Dropdown","DropdownMenu","DropdownToggle","DropdownItem","Media","Badge","Button","useDispatch","useSelector","getCartItems","deleteCartItem","getProduct","CartDropdown","dropdownOpen","setDropdownOpen","dispatch","store","state","ecommerce","toggle","prevState","handleDropdownItemClick","id","renderCartItems","cart","length","total","wheelPropagation","map","item","price","image","name","slug","brand","qty","width","height","Number","toFixed"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useEffect, Fragment, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// ** Custom Components\r\nimport NumberInput from '@components/number-input'\r\n\r\n// ** Third Party Components\r\nimport { ShoppingCart, X } from 'react-feather'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem, Media, Badge, Button } from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getCartItems, deleteCartItem, getProduct } from '@src/views/apps/ecommerce/store/actions'\r\n\r\nconst CartDropdown = () => {\r\n  // ** State\r\n  const [dropdownOpen, setDropdownOpen] = useState(false)\r\n\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.ecommerce)\r\n\r\n  // ** ComponentDidMount\r\n  useEffect(() => {\r\n    dispatch(getCartItems())\r\n  }, [])\r\n\r\n  // ** Function to toggle Dropdown\r\n  const toggle = () => setDropdownOpen(prevState => !prevState)\r\n\r\n  // ** Function to call on Dropdown Item Click\r\n  const handleDropdownItemClick = id => {\r\n    dispatch(getProduct(id))\r\n    toggle()\r\n  }\r\n\r\n  // ** Loops through Cart Array to return Cart Items\r\n  const renderCartItems = () => {\r\n    if (store.cart.length) {\r\n      let total = 0\r\n\r\n      return (\r\n        <Fragment>\r\n          <PerfectScrollbar\r\n            options={{\r\n              wheelPropagation: false\r\n            }}\r\n            className='scrollable-container media-list'\r\n          >\r\n            {store.cart.map(item => {\r\n              total += item.price\r\n\r\n              return (\r\n                <Media key={item.id} className='align-items-center'>\r\n                  <img className='d-block rounded mr-1' src={item.image} alt={item.name} width='62' />\r\n                  <Media body>\r\n                    <X size={14} className='cart-item-remove' onClick={() => dispatch(deleteCartItem(item.id))} />\r\n                    <div className='media-heading'>\r\n                      <h6 className='cart-item-title'>\r\n                        <Link\r\n                          className='text-body'\r\n                          to={`/apps/ecommerce/product/${item.slug}`}\r\n                          onClick={() => handleDropdownItemClick(item.id)}\r\n                        >\r\n                          {item.name}\r\n                        </Link>\r\n                      </h6>\r\n                      <small className='cart-item-by'>by {item.brand}</small>\r\n                    </div>\r\n                    <div className='cart-item-qty'>\r\n                      <NumberInput\r\n                        min={1}\r\n                        max={10}\r\n                        size='sm'\r\n                        className='p-0'\r\n                        value={item.qty}\r\n                        style={{ width: '7rem', height: '2.15rem' }}\r\n                      />\r\n                    </div>\r\n                    <h5 className='cart-item-price'>${item.price}</h5>\r\n                  </Media>\r\n                </Media>\r\n              )\r\n            })}\r\n          </PerfectScrollbar>\r\n          <li className='dropdown-menu-footer'>\r\n            <div className='d-flex justify-content-between mb-1'>\r\n              <h6 className='font-weight-bolder mb-0'>Total:</h6>\r\n              <h6 className='text-primary font-weight-bolder mb-0'>${Number(total.toFixed(2))}</h6>\r\n            </div>\r\n            <Button.Ripple tag={Link} to='/apps/ecommerce/checkout' color='primary' block onClick={toggle}>\r\n              Checkout\r\n            </Button.Ripple>\r\n          </li>\r\n        </Fragment>\r\n      )\r\n    } else {\r\n      return <p className='m-0 p-1 text-center'>Your cart is empty</p>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dropdown isOpen={dropdownOpen} toggle={toggle} tag='li' className='dropdown-cart nav-item mr-25'>\r\n      <DropdownToggle tag='a' className='nav-link position-relative'>\r\n        <ShoppingCart className='ficon' />\r\n        {store.cart.length > 0 ? (\r\n          <Badge pill color='primary' className='badge-up'>\r\n            {store.cart.length}\r\n          </Badge>\r\n        ) : null}\r\n      </DropdownToggle>\r\n      <DropdownMenu right tag='ul' className='dropdown-menu-media dropdown-cart mt-0'>\r\n        <li className='dropdown-menu-header'>\r\n          <DropdownItem tag='div' className='d-flex' header>\r\n            <h4 className='notification-title mb-0 mr-auto'>My Cart</h4>\r\n            <Badge color='light-primary' pill>\r\n              {store.cart.length || 0} Items\r\n            </Badge>\r\n          </DropdownItem>\r\n        </li>\r\n        {renderCartItems()}\r\n      </DropdownMenu>\r\n    </Dropdown>\r\n  )\r\n}\r\n\r\nexport default CartDropdown\r\n"]},"metadata":{},"sourceType":"module"}