{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useRef}from'react';import{Card,CardHeader,CardTitle,CardBody}from'reactstrap';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MapDraggableMarker=function MapDraggableMarker(){var _useState=useState({lat:51.505,lng:-0.09}),_useState2=_slicedToArray(_useState,1),center=_useState2[0];var _useState3=useState({lat:51.505,lng:-0.09}),_useState4=_slicedToArray(_useState3,2),marker=_useState4[0],setMarker=_useState4[1];var _useState5=useState(13),_useState6=_slicedToArray(_useState5,1),zoom=_useState6[0];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),draggable=_useState8[0],setDraggable=_useState8[1];var refmarker=useRef();var toggleDraggable=function toggleDraggable(){setDraggable(!draggable);};var updatePosition=function updatePosition(){var marker=refmarker.current;if(marker!==null){setMarker(marker.leafletElement.getLatLng());}};var position=[center.lat,center.lng];var markerPosition=[marker.lat,marker.lng];return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Draggable Marker\"})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(MapContainer,{center:position,zoom:zoom,className:\"leaflet-map\",children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"&ampcopy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(Marker,{draggable:draggable,onDragend:updatePosition,position:markerPosition,ref:refmarker,children:/*#__PURE__*/_jsx(Popup,{minWidth:90,children:/*#__PURE__*/_jsx(\"span\",{onClick:toggleDraggable,children:draggable?'DRAG MARKER':'MARKER FIXED'})})})]})})]});};export default MapDraggableMarker;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/maps/MapDraggableMarker.js"],"names":["useState","useRef","Card","CardHeader","CardTitle","CardBody","MapContainer","TileLayer","Marker","Popup","MapDraggableMarker","lat","lng","center","marker","setMarker","zoom","draggable","setDraggable","refmarker","toggleDraggable","updatePosition","current","leafletElement","getLatLng","position","markerPosition"],"mappings":"8KAAA,OAASA,QAAT,CAAmBC,MAAnB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,SAA3B,CAAsCC,QAAtC,KAAsD,YAAtD,CACA,OAASC,YAAT,CAAuBC,SAAvB,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,eAAvD,C,wFAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B,cAAiBV,QAAQ,CAAC,CACxBW,GAAG,CAAE,MADmB,CAExBC,GAAG,CAAE,CAAC,IAFkB,CAAD,CAAzB,wCAAOC,MAAP,eAKA,eAA4Bb,QAAQ,CAAC,CACnCW,GAAG,CAAE,MAD8B,CAEnCC,GAAG,CAAE,CAAC,IAF6B,CAAD,CAApC,yCAAOE,MAAP,eAAeC,SAAf,eAKA,eAAef,QAAQ,CAAC,EAAD,CAAvB,yCAAOgB,IAAP,eAEA,eAAkChB,QAAQ,CAAC,IAAD,CAA1C,yCAAOiB,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,SAAS,CAAGlB,MAAM,EAAxB,CAEA,GAAMmB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BF,YAAY,CAAC,CAACD,SAAF,CAAZ,CACD,CAFD,CAIA,GAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMP,CAAAA,MAAM,CAAGK,SAAS,CAACG,OAAzB,CACA,GAAIR,MAAM,GAAK,IAAf,CAAqB,CACnBC,SAAS,CAACD,MAAM,CAACS,cAAP,CAAsBC,SAAtB,EAAD,CAAT,CACD,CACF,CALD,CAOA,GAAMC,CAAAA,QAAQ,CAAG,CAACZ,MAAM,CAACF,GAAR,CAAaE,MAAM,CAACD,GAApB,CAAjB,CACA,GAAMc,CAAAA,cAAc,CAAG,CAACZ,MAAM,CAACH,GAAR,CAAaG,MAAM,CAACF,GAApB,CAAvB,CACA,mBACE,MAAC,IAAD,yBACE,KAAC,UAAD,wBACE,KAAC,SAAD,EAAW,GAAG,CAAC,IAAf,8BADF,EADF,cAIE,KAAC,QAAD,wBACE,MAAC,YAAD,EAAc,MAAM,CAAEa,QAAtB,CAAgC,IAAI,CAAET,IAAtC,CAA4C,SAAS,CAAC,aAAtD,wBACE,KAAC,SAAD,EACE,WAAW,CAAC,8EADd,CAEE,GAAG,CAAC,oDAFN,EADF,cAKE,KAAC,MAAD,EAAQ,SAAS,CAAEC,SAAnB,CAA8B,SAAS,CAAEI,cAAzC,CAAyD,QAAQ,CAAEK,cAAnE,CAAmF,GAAG,CAAEP,SAAxF,uBACE,KAAC,KAAD,EAAO,QAAQ,CAAE,EAAjB,uBACE,aAAM,OAAO,CAAEC,eAAf,UAAiCH,SAAS,CAAG,aAAH,CAAmB,cAA7D,EADF,EADF,EALF,GADF,EAJF,GADF,CAoBD,CAlDD,CAmDA,cAAeP,CAAAA,kBAAf","sourcesContent":["import { useState, useRef } from 'react'\r\nimport { Card, CardHeader, CardTitle, CardBody } from 'reactstrap'\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\r\n\r\nconst MapDraggableMarker = () => {\r\n  const [center] = useState({\r\n    lat: 51.505,\r\n    lng: -0.09\r\n  })\r\n\r\n  const [marker, setMarker] = useState({\r\n    lat: 51.505,\r\n    lng: -0.09\r\n  })\r\n\r\n  const [zoom] = useState(13)\r\n\r\n  const [draggable, setDraggable] = useState(true)\r\n\r\n  const refmarker = useRef()\r\n\r\n  const toggleDraggable = () => {\r\n    setDraggable(!draggable)\r\n  }\r\n\r\n  const updatePosition = () => {\r\n    const marker = refmarker.current\r\n    if (marker !== null) {\r\n      setMarker(marker.leafletElement.getLatLng())\r\n    }\r\n  }\r\n\r\n  const position = [center.lat, center.lng]\r\n  const markerPosition = [marker.lat, marker.lng]\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle tag='h4'>Draggable Marker</CardTitle>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <MapContainer center={position} zoom={zoom} className='leaflet-map'>\r\n          <TileLayer\r\n            attribution='&ampcopy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\r\n          />\r\n          <Marker draggable={draggable} onDragend={updatePosition} position={markerPosition} ref={refmarker}>\r\n            <Popup minWidth={90}>\r\n              <span onClick={toggleDraggable}>{draggable ? 'DRAG MARKER' : 'MARKER FIXED'}</span>\r\n            </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\nexport default MapDraggableMarker\r\n"]},"metadata":{},"sourceType":"module"}