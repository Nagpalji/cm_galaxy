{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\nsahi\\\\OneDrive\\\\Documents\\\\cyber_media\\\\cm_galaxy\\\\src\\\\views\\\\Permissions\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row } from \"reactstrap\";\nimport Select, { components } from \"react-select\";\nimport { selectThemeColors } from \"@utils\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Formik } from \"formik\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function index() {\n  _s();\n\n  var _this = this;\n\n  // const usersData = [\n  //   {\n  //     id: \"1\",\n  //     name: \"Sahil\"\n  //   }\n  // ]\n  var PermissionData = [{\n    id: \"1\",\n    label: \"dashboard\",\n    name: \"dashboard\"\n  }, {\n    id: \"2\",\n    label: \"dashboard-2\",\n    name: \"dashboard-2\"\n  }, {\n    id: \"3\",\n    label: \"dashboard-3\",\n    name: \"dashboard-3\"\n  }];\n  var permissionForm = {\n    label: \"Dashboard\",\n    path: \"/index\",\n    icon: \"Home\"\n  };\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState(PermissionData),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Permission = _useState4[0],\n      setPermisson = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedUsers = _useState6[0],\n      setSelectedUsers = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedPermission = _useState8[0],\n      setSelectedPermission = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Model = _useState10[0],\n      setModel = _useState10[1];\n\n  var UserData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var request, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://srvr1px.cyberads.io/usersData/\");\n\n            case 3:\n              request = _context.sent;\n              _context.next = 6;\n              return request === null || request === void 0 ? void 0 : request.data;\n\n            case 6:\n              response = _context.sent;\n              setUsers(response);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              toast.error(\"unable to load user list\");\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function UserData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleUsers = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setSelectedUsers(e.target.value);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleUsers(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handlePermission = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setSelectedPermission(e);\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handlePermission(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              data = {\n                user_id: selectedUsers,\n                Permission: selectedPermission\n              };\n              toast.success(\"Uploaded\");\n\n            case 2:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleClick() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    UserData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          return setModel(!Model);\n        },\n        children: \"Create new Path\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        defaultValue: selectedUsers,\n        onChange: selectedUsers,\n        options: Users,\n        getOptionLabel: function getOptionLabel(option) {\n          return option.user_name;\n        },\n        getOptionValue: function getOptionValue(option) {\n          return option._id;\n        },\n        isMulti: true,\n        isSearchable: true,\n        theme: selectThemeColors,\n        name: \"users\",\n        placeholder: \"Select Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), selectedUsers && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: selectedPermission,\n          onChange: setSelectedPermission,\n          options: options,\n          isMulti: true,\n          theme: selectThemeColors,\n          name: \"Permission\",\n          placeholder: \"Select permission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        className: \"btn btn-primary\",\n        children: [\"Submit\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        size: \"lg\",\n        isOpen: Model,\n        toggle: function toggle() {\n          return setModel(!Model);\n        },\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: function toggle() {\n            return setModel(!Model);\n          },\n          children: \"Notification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: {\n              label: \"\",\n              icon: \"\",\n              path: \"\"\n            },\n            onSubmit: /*#__PURE__*/function () {\n              var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(values, _ref5) {\n                var setSubmitting, request, response;\n                return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        setSubmitting = _ref5.setSubmitting;\n                        _context5.prev = 1;\n                        _context5.next = 4;\n                        return axios.post(\"http://srvr1px.cyberads.io/permissionForm/\", values);\n\n                      case 4:\n                        request = _context5.sent;\n                        _context5.next = 7;\n                        return request === null || request === void 0 ? void 0 : request.data;\n\n                      case 7:\n                        response = _context5.sent;\n                        toast.success(\"Navigation listed ...\");\n                        window.location.href = \"\";\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t0 = _context5[\"catch\"](1);\n                        toast.error(\"navigation not listed\");\n\n                      case 15:\n                        setSubmitting(false);\n\n                      case 16:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, null, [[1, 12]]);\n              }));\n\n              return function (_x3, _x4) {\n                return _ref6.apply(this, arguments);\n              };\n            }(),\n            children: function children(_ref7) {\n              var values = _ref7.values,\n                  errors = _ref7.errors,\n                  touched = _ref7.touched,\n                  handleChange = _ref7.handleChange,\n                  handleBlur = _ref7.handleBlur,\n                  handleSubmit = _ref7.handleSubmit,\n                  isSubmitting = _ref7.isSubmitting;\n              return /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"label\",\n                  name: \"label\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.label,\n                  placeholder: \"label\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, _this), errors.label && touched.label && errors.label, /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"path\",\n                  name: \"path\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.path,\n                  placeholder: \"path\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, _this), errors.path && touched.path && errors.path, /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"icon\",\n                  name: \"icon\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.icon,\n                  placeholder: \"icon\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, _this), errors.icon && touched.icon && errors.icon, /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: isSubmitting,\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, _this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(index, \"TkdjVLnJ215uAm2Gq0/FyKHOoIs=\");","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/Permissions/index.js"],"names":["React","useEffect","useState","Button","Col","Modal","ModalBody","ModalHeader","Row","Select","components","selectThemeColors","toast","ToastContainer","Formik","axios","index","PermissionData","id","label","name","permissionForm","path","icon","Users","setUsers","Permission","setPermisson","selectedUsers","setSelectedUsers","selectedPermission","setSelectedPermission","Model","setModel","UserData","get","request","data","response","error","handleUsers","e","target","value","handlePermission","handleClick","user_id","success","option","user_name","_id","options","values","setSubmitting","post","window","location","href","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row } from \"reactstrap\"\r\nimport Select, { components } from \"react-select\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport { toast, ToastContainer } from \"react-toastify\"\r\nimport { Formik } from \"formik\"\r\nimport axios from \"axios\"\r\n\r\nexport default function index() {\r\n  // const usersData = [\r\n  //   {\r\n  //     id: \"1\",\r\n  //     name: \"Sahil\"\r\n  //   }\r\n  // ]\r\n  const PermissionData = [\r\n    {\r\n      id: \"1\",\r\n      label: \"dashboard\",\r\n      name: \"dashboard\",\r\n    },\r\n    {\r\n      id: \"2\",\r\n      label: \"dashboard-2\",\r\n      name: \"dashboard-2\",\r\n    },\r\n    {\r\n      id: \"3\",\r\n      label: \"dashboard-3\",\r\n      name: \"dashboard-3\",\r\n    },\r\n  ]\r\n\r\n  const permissionForm = {\r\n    label: \"Dashboard\",\r\n    path: \"/index\",\r\n    icon: \"Home\",\r\n  }\r\n  const [Users, setUsers] = useState([])\r\n  const [Permission, setPermisson] = useState(PermissionData)\r\n  const [selectedUsers, setSelectedUsers] = useState([])\r\n  const [selectedPermission, setSelectedPermission] = useState([])\r\n  const [Model, setModel] = useState(false)\r\n\r\n  const UserData = async () => {\r\n    try {\r\n      const request = await axios.get(\"http://srvr1px.cyberads.io/usersData/\")\r\n      const response = await request?.data\r\n      setUsers(response)\r\n    } catch (error) {\r\n      toast.error(\"unable to load user list\")\r\n    }\r\n  }\r\n\r\n  const handleUsers = async (e) => {\r\n    setSelectedUsers(e.target.value)\r\n  }\r\n  const handlePermission = async (e) => {\r\n    setSelectedPermission(e)\r\n  }\r\n  const handleClick = async () => {\r\n    const data = {\r\n      user_id: selectedUsers,\r\n      Permission: selectedPermission,\r\n    }\r\n    toast.success(\"Uploaded\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    UserData()\r\n  }, [])\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <Row>\r\n        <button className=\"btn btn-primary\" onClick={(e) => setModel(!Model)}>\r\n          Create new Path\r\n        </button>\r\n        {/* <select\r\n          className=\"react-select form-control\"\r\n          value={selectedUsers}\r\n          onChange={handleUsers}\r\n          required\r\n        >\r\n          <option value={\"\"}>Choose Users</option>\r\n          {Users.map((id) => {\r\n            return (\r\n              <>\r\n              { (selectedUsers === id._id) ? <option value={id._id} selected>{id.user_name}</option> : <option value={id._id}>{id.user_name}</option>\r\n              }\r\n              </>\r\n            )\r\n          })}\r\n        </select> */}\r\n        <Select\r\n          defaultValue={selectedUsers}\r\n          onChange={selectedUsers}\r\n          options={Users}\r\n          getOptionLabel={(option) => option.user_name}\r\n          getOptionValue={(option) => option._id}\r\n          isMulti\r\n          isSearchable={true}\r\n          theme={selectThemeColors}\r\n          name=\"users\"\r\n          placeholder=\"Select Users\"\r\n        />\r\n        {selectedUsers && (\r\n          <>\r\n            <Select\r\n              defaultValue={selectedPermission}\r\n              onChange={setSelectedPermission}\r\n              options={options}\r\n              isMulti\r\n              theme={selectThemeColors}\r\n              name=\"Permission\"\r\n              placeholder=\"Select permission\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        <button onClick={handleClick} className=\"btn btn-primary\">\r\n          Submit{\" \"}\r\n        </button>\r\n        <Modal size=\"lg\" isOpen={Model} toggle={() => setModel(!Model)}>\r\n          <ModalHeader toggle={() => setModel(!Model)}>\r\n            Notification\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <Formik\r\n              initialValues={{ label: \"\", icon: \"\", path: \"\" }}\r\n              onSubmit={async (values, { setSubmitting }) => {\r\n                // setTimeout(() => {\r\n                //   alert(JSON.stringify(values, null, 2))\r\n                // }, 400)\r\n                try {\r\n                  // values = [...values, {user_id:SelectedUsers}]\r\n                  const request = await axios.post(\r\n                    \"http://srvr1px.cyberads.io/permissionForm/\",\r\n                    values\r\n                  )\r\n                  const response = await request?.data\r\n                  toast.success(\"Navigation listed ...\")\r\n                  window.location.href = \"\"\r\n                } catch (error) {\r\n                  toast.error(\"navigation not listed\")\r\n                }\r\n                setSubmitting(false)\r\n              }}\r\n            >\r\n              {({\r\n                values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                isSubmitting,\r\n                /* and other goodies */\r\n              }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                  <input\r\n                    type=\"label\"\r\n                    name=\"label\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.label}\r\n                    placeholder=\"label\"\r\n                    required\r\n                  />\r\n                  {errors.label && touched.label && errors.label}\r\n                  <input\r\n                    type=\"path\"\r\n                    name=\"path\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.path}\r\n                    placeholder=\"path\"\r\n                    required\r\n                  />\r\n                  {errors.path && touched.path && errors.path}\r\n                  <input\r\n                    type=\"icon\"\r\n                    name=\"icon\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.icon}\r\n                    placeholder=\"icon\"\r\n                    required\r\n                  />\r\n                  {errors.icon && touched.icon && errors.icon}\r\n                  <button type=\"submit\" disabled={isSubmitting}>\r\n                    Submit\r\n                  </button>\r\n                </form>\r\n              )}\r\n            </Formik>\r\n          </ModalBody>\r\n        </Modal>\r\n        {/* <Row className=\"laptophideCustomdropdown match-height mt-0 mb-1\">\r\n          <Col className=\"widthdate\" xl=\"12\" md=\"12\" xs=\"12\">\r\n            {/* Select User  */}\r\n        {/* <Row> */}\r\n        {/* <Col className='' md='12' sm='12'> */}\r\n        {/* <h6 className='font-weight-bold'>Product</h6> */}\r\n\r\n        {/* </Col> */}\r\n        {/* </Row>\r\n          </Col>\r\n        </Row> */}\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}