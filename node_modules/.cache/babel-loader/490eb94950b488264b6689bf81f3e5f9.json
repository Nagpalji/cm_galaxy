{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link,Redirect,Route,Router,useHistory}from\"react-router-dom\";import{Card,CardHeader,CardTitle,CardBody,Row,Col}from'reactstrap';import*as ReactDOM from'react-dom';import{NumericTextBox}from'@progress/kendo-react-inputs';import{Chart,ChartTitle,ChartLegend,ChartTooltip,ChartArea,ChartPlotArea,ChartSeries,ChartSeriesItem,ChartSeriesLabels}from'@progress/kendo-react-charts';import\"hammerjs\";import Funnel from'./Funnel';import Table from'./Table';import FunnelMappingDetails from'./FunnelMappingDetails';import{toast,ToastContainer}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var tooltipRender=function tooltipRender(props){if(props.point){return props.point.dataItem.stat;}};var ChartContainer1=function ChartContainer1(){var dateTo=localStorage.getItem(\"date_to\");var dateFrom=localStorage.getItem(\"date_from\");var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),res=_useState2[0],setRes=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tabelData=_useState4[0],setTabelData=_useState4[1];function IsJsonString(str){try{var json=JSON.parse(str);return typeof json==='object';}catch(e){return false;}}var brand;if(IsJsonString(localStorage.getItem(\"brand_name\"))){brand=JSON.parse(localStorage.getItem(\"brand_name\"));}else{brand=localStorage.getItem(\"brand_name\");}useEffect(function(){fetch('https://srvr1px.cyberads.io/getFunnelData/',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({startDate:dateFrom,endDate:dateTo,brand:brand})}).then(function(response){return response.json();}).then(function(data){return setRes(data);}).catch(function(err){toast.error(err.message);});},[]);useEffect(function(){fetch('https://srvr1px.cyberads.io/getFunneltableData/',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({startDate:dateFrom,endDate:dateTo,brand:brand})}).then(function(response){return response.json();}).then(function(data){return setTabelData(data);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Row,{className:\"match-height\",children:/*#__PURE__*/_jsx(Col,{xs:\"12\",children:/*#__PURE__*/_jsx(Funnel,{res:res,table:tabelData})})})]});};export default ChartContainer1;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/funnelmapping/index.js"],"names":["React","useEffect","useState","Link","Redirect","Route","Router","useHistory","Card","CardHeader","CardTitle","CardBody","Row","Col","ReactDOM","NumericTextBox","Chart","ChartTitle","ChartLegend","ChartTooltip","ChartArea","ChartPlotArea","ChartSeries","ChartSeriesItem","ChartSeriesLabels","Funnel","Table","FunnelMappingDetails","toast","ToastContainer","tooltipRender","props","point","dataItem","stat","ChartContainer1","dateTo","localStorage","getItem","dateFrom","history","res","setRes","tabelData","setTabelData","IsJsonString","str","json","JSON","parse","e","brand","fetch","method","headers","body","stringify","startDate","endDate","then","response","data","catch","err","error","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, Redirect, Route, Router, useHistory } from \"react-router-dom\"\r\nimport { Card, CardHeader, CardTitle, CardBody, Row, Col } from 'reactstrap'\r\nimport * as ReactDOM from 'react-dom'\r\nimport { NumericTextBox } from '@progress/kendo-react-inputs'\r\nimport { Chart, ChartTitle, ChartLegend, ChartTooltip, ChartArea, ChartPlotArea, ChartSeries, ChartSeriesItem, ChartSeriesLabels } from '@progress/kendo-react-charts'\r\nimport \"hammerjs\"\r\nimport Funnel from './Funnel'\r\nimport Table from './Table'\r\nimport FunnelMappingDetails from './FunnelMappingDetails'\r\nimport { toast, ToastContainer } from 'react-toastify'\r\n\r\nconst tooltipRender = (props) => {\r\n    if (props.point) {\r\n        return props.point.dataItem.stat\r\n    }\r\n}\r\n\r\nconst ChartContainer1 = () => {\r\n    const dateTo = localStorage.getItem(\"date_to\")\r\n    const dateFrom = localStorage.getItem(\"date_from\")\r\n\r\n    const history = useHistory()\r\n    const [res, setRes] = useState([])\r\n    const [tabelData, setTabelData] = useState([])\r\n    function IsJsonString(str) {\r\n        try {\r\n          const json = JSON.parse(str)\r\n          return (typeof json === 'object')\r\n        } catch (e) {\r\n          return false\r\n        }\r\n      }\r\n    let brand\r\n    if (IsJsonString(localStorage.getItem(\"brand_name\"))) {\r\n        brand = JSON.parse(localStorage.getItem(\"brand_name\"))\r\n    } else {\r\n        brand = localStorage.getItem(\"brand_name\")\r\n    }\r\n    useEffect(() => {\r\n        fetch('https://srvr1px.cyberads.io/getFunnelData/', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ startDate: dateFrom, endDate: dateTo, brand })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => setRes(data))\r\n            .catch(err => {\r\n                toast.error(err.message)\r\n            })\r\n       \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetch('https://srvr1px.cyberads.io/getFunneltableData/', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ startDate: dateFrom, endDate: dateTo, brand })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => setTabelData(data))\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <>\r\n        <ToastContainer />\r\n            <Row className=\"match-height\">\r\n                <Col xs=\"12\">\r\n                    <Funnel res={res}  table={tabelData} />\r\n                    {/* <FunnelMappingDetails /> */}\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\nexport default ChartContainer1"]},"metadata":{},"sourceType":"module"}