{"ast":null,"code":"import _defineProperty from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import axios from'axios';import classnames from'classnames';import{Card,CardHeader,CardTitle,CardBody,UncontrolledDropdown,DropdownMenu,DropdownItem,DropdownToggle}from'reactstrap';import Chart from'react-apexcharts';import*as Icon from'react-feather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SessionByDevice=function SessionByDevice(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){axios.get('/card/card-analytics/sessions-device').then(function(res){return setData(res.data);});},[]);var options={chart:{toolbar:{show:false}},labels:['Desktop','Mobile','Tablet'],dataLabels:{enabled:false},legend:{show:false},comparedResult:[2,-3,8],stroke:{width:0},colors:[props.primary,props.warning,props.danger]},series=[58.6,34.9,6.5];var renderChartInfo=function renderChartInfo(){return data.chart_info.map(function(item,index){var IconTag=Icon[item.icon];return/*#__PURE__*/_jsxs(\"div\",{className:classnames('d-flex justify-content-between',{'mb-1':index!==data.chart_info.length-1}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(IconTag,{size:17,className:classnames(_defineProperty({},item.iconColor,item.iconColor))}),/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold ml-75 mr-25\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"- \",item.usage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.upDown,\"%\"]}),item.upDown>0?/*#__PURE__*/_jsx(Icon.ArrowUp,{size:14,className:\"ml-25 text-success\"}):/*#__PURE__*/_jsx(Icon.ArrowDown,{size:14,className:\"ml-25 text-danger\"})]})]},index);});};return data!==null?/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"align-items-end\",children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Session By Device\"}),/*#__PURE__*/_jsxs(UncontrolledDropdown,{className:\"chart-dropdown\",children:[/*#__PURE__*/_jsx(DropdownToggle,{color:\"\",className:\"bg-transparent btn-sm border-0 p-50\",children:\"Last 7 days\"}),/*#__PURE__*/_jsx(DropdownMenu,{right:true,children:data.last_days.map(function(item){return/*#__PURE__*/_jsx(DropdownItem,{className:\"w-100\",children:item},item);})})]})]}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(Chart,{className:\"my-1\",options:options,series:series,type:\"donut\",height:300}),renderChartInfo()]})]}):null;};export default SessionByDevice;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/ui-elements/cards/analytics/SessionByDevice.js"],"names":["useEffect","useState","axios","classnames","Card","CardHeader","CardTitle","CardBody","UncontrolledDropdown","DropdownMenu","DropdownItem","DropdownToggle","Chart","Icon","SessionByDevice","props","data","setData","get","then","res","options","chart","toolbar","show","labels","dataLabels","enabled","legend","comparedResult","stroke","width","colors","primary","warning","danger","series","renderChartInfo","chart_info","map","item","index","IconTag","icon","length","iconColor","name","usage","upDown","last_days"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport classnames from 'classnames'\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardTitle,\r\n  CardBody,\r\n  UncontrolledDropdown,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle\r\n} from 'reactstrap'\r\nimport Chart from 'react-apexcharts'\r\nimport * as Icon from 'react-feather'\r\n\r\nconst SessionByDevice = props => {\r\n  const [data, setData] = useState(null)\r\n\r\n  useEffect(() => {\r\n    axios.get('/card/card-analytics/sessions-device').then(res => setData(res.data))\r\n  }, [])\r\n\r\n  const options = {\r\n      chart: {\r\n        toolbar: {\r\n          show: false\r\n        }\r\n      },\r\n      labels: ['Desktop', 'Mobile', 'Tablet'],\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      legend: { show: false },\r\n      comparedResult: [2, -3, 8],\r\n      stroke: { width: 0 },\r\n      colors: [props.primary, props.warning, props.danger]\r\n    },\r\n    series = [58.6, 34.9, 6.5]\r\n\r\n  const renderChartInfo = () => {\r\n    return data.chart_info.map((item, index) => {\r\n      const IconTag = Icon[item.icon]\r\n      return (\r\n        <div\r\n          key={index}\r\n          className={classnames('d-flex justify-content-between', {\r\n            'mb-1': index !== data.chart_info.length - 1\r\n          })}\r\n        >\r\n          <div className='d-flex align-items-center'>\r\n            <IconTag\r\n              size={17}\r\n              className={classnames({\r\n                [item.iconColor]: item.iconColor\r\n              })}\r\n            />\r\n            <span className='font-weight-bold ml-75 mr-25'>{item.name}</span>\r\n            <span>- {item.usage}%</span>\r\n          </div>\r\n          <div>\r\n            <span>{item.upDown}%</span>\r\n            {item.upDown > 0 ? (\r\n              <Icon.ArrowUp size={14} className='ml-25 text-success' />\r\n            ) : (\r\n              <Icon.ArrowDown size={14} className='ml-25 text-danger' />\r\n            )}\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  return data !== null ? (\r\n    <Card>\r\n      <CardHeader className='align-items-end'>\r\n        <CardTitle tag='h4'>Session By Device</CardTitle>\r\n        <UncontrolledDropdown className='chart-dropdown'>\r\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\r\n            Last 7 days\r\n          </DropdownToggle>\r\n          <DropdownMenu right>\r\n            {data.last_days.map(item => (\r\n              <DropdownItem className='w-100' key={item}>\r\n                {item}\r\n              </DropdownItem>\r\n            ))}\r\n          </DropdownMenu>\r\n        </UncontrolledDropdown>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <Chart className='my-1' options={options} series={series} type='donut' height={300} />\r\n        {renderChartInfo()}\r\n      </CardBody>\r\n    </Card>\r\n  ) : null\r\n}\r\nexport default SessionByDevice\r\n"]},"metadata":{},"sourceType":"module"}