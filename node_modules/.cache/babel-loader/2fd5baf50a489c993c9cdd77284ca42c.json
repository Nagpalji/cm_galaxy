{"ast":null,"code":"import _defineProperty from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";// ** UseJWT import to get config\nimport useJwt from'@src/auth/jwt/useJwt';var config=useJwt.jwtConfig;// ** Handle User Login\nexport var handleLogin=function handleLogin(data){return function(dispatch){var _dispatch;dispatch((_dispatch={type:'LOGIN',data:data,config:config},_defineProperty(_dispatch,config.storageTokenKeyName,data[config.storageTokenKeyName]),_defineProperty(_dispatch,config.storageRefreshTokenKeyName,data[config.storageRefreshTokenKeyName]),_dispatch));// ** Add to user, accessToken & refreshToken to localStorage\nlocalStorage.setItem('userData',JSON.stringify(data));localStorage.setItem(config.storageTokenKeyName,JSON.stringify(data.accessToken));localStorage.setItem(config.storageRefreshTokenKeyName,JSON.stringify(data.refreshToken));var d=new Date();d.setDate(d.getDate()-7);var d1=new Date();d1.setDate(d1.getDate()-1);localStorage.setItem(\"sy\",d.getFullYear());localStorage.setItem(\"sm\",d.getMonth()+1);localStorage.setItem(\"sd\",d.getDate());localStorage.setItem(\"ey\",d1.getFullYear());localStorage.setItem(\"em\",d1.getMonth()+1);localStorage.setItem(\"ed\",d1.getDate());// sessionStorage.setItem(\"nam\", \"Overall Snapshot\")\n};};// ** Handle User Logout\nexport var handleLogout=function handleLogout(){return function(dispatch){var _dispatch2;dispatch((_dispatch2={type:'LOGOUT'},_defineProperty(_dispatch2,config.storageTokenKeyName,null),_defineProperty(_dispatch2,config.storageRefreshTokenKeyName,null),_dispatch2));// ** Remove user, accessToken & refreshToken from localStorage\nlocalStorage.removeItem('userData');localStorage.removeItem('sd');localStorage.removeItem('sm');localStorage.removeItem('sy');localStorage.removeItem('ed');localStorage.removeItem('em');localStorage.removeItem('ey');localStorage.removeItem(config.storageTokenKeyName);localStorage.removeItem(config.storageRefreshTokenKeyName);};};","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/redux/actions/auth/index.js"],"names":["useJwt","config","jwtConfig","handleLogin","data","dispatch","type","storageTokenKeyName","storageRefreshTokenKeyName","localStorage","setItem","JSON","stringify","accessToken","refreshToken","d","Date","setDate","getDate","d1","getFullYear","getMonth","handleLogout","removeItem"],"mappings":"gLAAA;AACA,MAAOA,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,GAAMC,CAAAA,MAAM,CAAGD,MAAM,CAACE,SAAtB,CAEA;AACA,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,IAAI,CAAI,CACjC,MAAO,UAAAC,QAAQ,CAAI,eACjBA,QAAQ,aACNC,IAAI,CAAE,OADA,CAENF,IAAI,CAAJA,IAFM,CAGNH,MAAM,CAANA,MAHM,4BAILA,MAAM,CAACM,mBAJF,CAIwBH,IAAI,CAACH,MAAM,CAACM,mBAAR,CAJ5B,4BAKLN,MAAM,CAACO,0BALF,CAK+BJ,IAAI,CAACH,MAAM,CAACO,0BAAR,CALnC,aAAR,CAQA;AACAC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiCC,IAAI,CAACC,SAAL,CAAeR,IAAf,CAAjC,EACAK,YAAY,CAACC,OAAb,CAAqBT,MAAM,CAACM,mBAA5B,CAAiDI,IAAI,CAACC,SAAL,CAAeR,IAAI,CAACS,WAApB,CAAjD,EACAJ,YAAY,CAACC,OAAb,CAAqBT,MAAM,CAACO,0BAA5B,CAAwDG,IAAI,CAACC,SAAL,CAAeR,IAAI,CAACU,YAApB,CAAxD,EAEA,GAAMC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAV,CACAD,CAAC,CAACE,OAAF,CAAUF,CAAC,CAACG,OAAF,GAAc,CAAxB,EACA,GAAMC,CAAAA,EAAE,CAAG,GAAIH,CAAAA,IAAJ,EAAX,CACAG,EAAE,CAACF,OAAH,CAAWE,EAAE,CAACD,OAAH,GAAe,CAA1B,EAEAT,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BK,CAAC,CAACK,WAAF,EAA3B,EACAX,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BK,CAAC,CAACM,QAAF,GAAe,CAA1C,EACAZ,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BK,CAAC,CAACG,OAAF,EAA3B,EACAT,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BS,EAAE,CAACC,WAAH,EAA3B,EACAX,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BS,EAAE,CAACE,QAAH,GAAgB,CAA3C,EACAZ,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA2BS,EAAE,CAACD,OAAH,EAA3B,EACA;AAED,CA3BD,CA4BD,CA7BM,CA+BP;AACA,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAChC,MAAO,UAAAjB,QAAQ,CAAI,gBACjBA,QAAQ,cAAGC,IAAI,CAAE,QAAT,6BAAoBL,MAAM,CAACM,mBAA3B,CAAiD,IAAjD,6BAAwDN,MAAM,CAACO,0BAA/D,CAA4F,IAA5F,cAAR,CAEA;AACAC,YAAY,CAACc,UAAb,CAAwB,UAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,IAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,IAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,IAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,IAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,IAAxB,EACAd,YAAY,CAACc,UAAb,CAAwB,IAAxB,EACAd,YAAY,CAACc,UAAb,CAAwBtB,MAAM,CAACM,mBAA/B,EACAE,YAAY,CAACc,UAAb,CAAwBtB,MAAM,CAACO,0BAA/B,EACD,CAbD,CAcD,CAfM","sourcesContent":["// ** UseJWT import to get config\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\n\r\nconst config = useJwt.jwtConfig\r\n\r\n// ** Handle User Login\r\nexport const handleLogin = data => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: 'LOGIN',\r\n      data,\r\n      config,\r\n      [config.storageTokenKeyName]: data[config.storageTokenKeyName],\r\n      [config.storageRefreshTokenKeyName]: data[config.storageRefreshTokenKeyName]\r\n    })\r\n\r\n    // ** Add to user, accessToken & refreshToken to localStorage\r\n    localStorage.setItem('userData', JSON.stringify(data))\r\n    localStorage.setItem(config.storageTokenKeyName, JSON.stringify(data.accessToken))\r\n    localStorage.setItem(config.storageRefreshTokenKeyName, JSON.stringify(data.refreshToken))\r\n    \r\n    const d = new Date()\r\n    d.setDate(d.getDate() - 7)\r\n    const d1 = new Date()\r\n    d1.setDate(d1.getDate() - 1)\r\n\r\n    localStorage.setItem(\"sy\", d.getFullYear())\r\n    localStorage.setItem(\"sm\", d.getMonth() + 1)\r\n    localStorage.setItem(\"sd\", d.getDate())\r\n    localStorage.setItem(\"ey\", d1.getFullYear())\r\n    localStorage.setItem(\"em\", d1.getMonth() + 1)\r\n    localStorage.setItem(\"ed\", d1.getDate())\r\n    // sessionStorage.setItem(\"nam\", \"Overall Snapshot\")\r\n\r\n  }\r\n}\r\n\r\n// ** Handle User Logout\r\nexport const handleLogout = () => {\r\n  return dispatch => {\r\n    dispatch({ type: 'LOGOUT', [config.storageTokenKeyName]: null, [config.storageRefreshTokenKeyName]: null })\r\n\r\n    // ** Remove user, accessToken & refreshToken from localStorage\r\n    localStorage.removeItem('userData')\r\n    localStorage.removeItem('sd')\r\n    localStorage.removeItem('sm')\r\n    localStorage.removeItem('sy')\r\n    localStorage.removeItem('ed')\r\n    localStorage.removeItem('em')\r\n    localStorage.removeItem('ey')\r\n    localStorage.removeItem(config.storageTokenKeyName)\r\n    localStorage.removeItem(config.storageRefreshTokenKeyName)\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}