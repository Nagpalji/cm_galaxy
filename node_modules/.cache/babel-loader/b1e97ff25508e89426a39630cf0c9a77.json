{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\nsahi\\\\OneDrive\\\\Documents\\\\cyber_media\\\\cm_galaxy\\\\src\\\\views\\\\Permissions\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row } from \"reactstrap\";\nimport CustomDropDown from \"../dashboard/ecommerce/CustomDropDown\";\nimport Select, { components } from \"react-select\";\nimport { selectThemeColors } from \"@utils\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Formik } from \"formik\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function index() {\n  _s();\n\n  var _this = this;\n\n  // const usersData = [\n  //   {\n  //     id: \"1\",\n  //     name: \"Sahil\"\n  //   }\n  // ]\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Permission = _useState4[0],\n      setPermisson = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedUsers = _useState6[0],\n      setSelectedUsers = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedPermission = _useState8[0],\n      setSelectedPermission = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Model = _useState10[0],\n      setModel = _useState10[1];\n\n  var UserData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var request, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://srvr1px.cyberads.io/usersData/\");\n\n            case 3:\n              request = _context.sent;\n              _context.next = 6;\n              return request === null || request === void 0 ? void 0 : request.data;\n\n            case 6:\n              response = _context.sent;\n              setUsers(response);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              toast.error(\"unable to load user list\");\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function UserData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var PermissionData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var request, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"http://srvr1px.cyberads.io/permissionFormRead/\");\n\n            case 3:\n              request = _context2.sent;\n              _context2.next = 6;\n              return request === null || request === void 0 ? void 0 : request.data;\n\n            case 6:\n              response = _context2.sent;\n              setPermisson(response);\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              toast.error(\"unable to load user list\");\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function PermissionData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var data, request, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              data = {\n                user_id: selectedUsers,\n                Permission: selectedPermission\n              };\n              _context3.prev = 1;\n              _context3.next = 4;\n              return axios.post(\"http://srvr1px.cyberads.io/permissionAssign/\", data);\n\n            case 4:\n              request = _context3.sent;\n              _context3.next = 7;\n              return request === null || request === void 0 ? void 0 : request.data;\n\n            case 7:\n              response = _context3.sent;\n              toast.success(\"Uploaded\");\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](1);\n              toast.error(\"unable to load user list\");\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 11]]);\n    }));\n\n    return function handleClick() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var options = [{\n    value: 'chocolate',\n    label: 'Chocolate'\n  }, {\n    value: 'strawberry',\n    label: 'Strawberry'\n  }, {\n    value: 'vanilla',\n    label: 'Vanilla'\n  }];\n  useEffect(function () {\n    PermissionData();\n    UserData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          return setModel(!Model);\n        },\n        children: \"Create new Path\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        defaultValue: selectedUsers,\n        onChange: setSelectedUsers,\n        options: Users,\n        getOptionLabel: function getOptionLabel(option) {\n          return option.user_name;\n        },\n        getOptionValue: function getOptionValue(option) {\n          return option._id;\n        },\n        isMulti: true,\n        theme: selectThemeColors,\n        name: \"Users\",\n        placeholder: \"Select Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), selectedUsers !== \"\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: selectedPermission,\n          onChange: setSelectedPermission,\n          options: Permission,\n          isMulti: true,\n          theme: selectThemeColors,\n          name: \"Permission\",\n          placeholder: \"Select permission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        className: \"btn btn-primary\",\n        children: [\"Submit\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        size: \"lg\",\n        isOpen: Model,\n        toggle: function toggle() {\n          return setModel(!Model);\n        },\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: function toggle() {\n            return setModel(!Model);\n          },\n          children: \"Notification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: {\n              label: \"\",\n              icon: \"\",\n              path: \"\"\n            },\n            onSubmit: /*#__PURE__*/function () {\n              var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(values, _ref4) {\n                var setSubmitting, request, response;\n                return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        setSubmitting = _ref4.setSubmitting;\n                        _context4.prev = 1;\n                        _context4.next = 4;\n                        return axios.post(\"http://srvr1px.cyberads.io/permissionForm/\", values);\n\n                      case 4:\n                        request = _context4.sent;\n                        _context4.next = 7;\n                        return request === null || request === void 0 ? void 0 : request.data;\n\n                      case 7:\n                        response = _context4.sent;\n                        toast.success(\"Navigation listed ...\");\n                        window.location.href = \"\";\n                        _context4.next = 15;\n                        break;\n\n                      case 12:\n                        _context4.prev = 12;\n                        _context4.t0 = _context4[\"catch\"](1);\n                        toast.error(\"navigation not listed\");\n\n                      case 15:\n                        setSubmitting(false);\n\n                      case 16:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, null, [[1, 12]]);\n              }));\n\n              return function (_x, _x2) {\n                return _ref5.apply(this, arguments);\n              };\n            }(),\n            children: function children(_ref6) {\n              var values = _ref6.values,\n                  errors = _ref6.errors,\n                  touched = _ref6.touched,\n                  handleChange = _ref6.handleChange,\n                  handleBlur = _ref6.handleBlur,\n                  handleSubmit = _ref6.handleSubmit,\n                  isSubmitting = _ref6.isSubmitting;\n              return /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"label\",\n                  name: \"label\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.label,\n                  placeholder: \"label\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 19\n                }, _this), errors.label && touched.label && errors.label, /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"path\",\n                  name: \"path\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.path,\n                  placeholder: \"path\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, _this), errors.path && touched.path && errors.path, /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"icon\",\n                  name: \"icon\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.icon,\n                  placeholder: \"icon\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, _this), errors.icon && touched.icon && errors.icon, /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: isSubmitting,\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, _this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"laptophideCustomdropdown match-height mt-0 mb-1\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \"widthdate\",\n          xl: \"12\",\n          md: \"12\",\n          xs: \"12\",\n          children: /*#__PURE__*/_jsxDEV(Row, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(index, \"f2UY4c9k1zDMJ/4NfKL4nXioZ08=\");","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/Permissions/index.js"],"names":["React","useEffect","useState","Button","Col","Modal","ModalBody","ModalHeader","Row","CustomDropDown","Select","components","selectThemeColors","toast","ToastContainer","Formik","axios","index","Users","setUsers","Permission","setPermisson","selectedUsers","setSelectedUsers","selectedPermission","setSelectedPermission","Model","setModel","UserData","get","request","data","response","error","PermissionData","handleClick","user_id","post","success","options","value","label","e","option","user_name","_id","icon","path","values","setSubmitting","window","location","href","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row } from \"reactstrap\"\r\nimport CustomDropDown from \"../dashboard/ecommerce/CustomDropDown\"\r\nimport Select, { components } from \"react-select\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport { toast, ToastContainer } from \"react-toastify\"\r\nimport { Formik } from \"formik\"\r\nimport axios from \"axios\"\r\n\r\nexport default function index() {\r\n  // const usersData = [\r\n  //   {\r\n  //     id: \"1\",\r\n  //     name: \"Sahil\"\r\n  //   }\r\n  // ]\r\n\r\n\r\n  const [Users, setUsers] = useState([])\r\n  const [Permission, setPermisson] = useState([])\r\n \r\n  const [selectedUsers, setSelectedUsers] = useState(\"\")\r\n  const [selectedPermission, setSelectedPermission] = useState([])\r\n \r\n  const [Model, setModel] = useState(false)\r\n\r\n  const UserData = async () => {\r\n    try {\r\n      const request = await axios.get(\"http://srvr1px.cyberads.io/usersData/\")\r\n      const response = await request?.data\r\n      setUsers(response)\r\n    } catch (error) {\r\n      toast.error(\"unable to load user list\")\r\n    }\r\n  }\r\n  \r\n  const PermissionData = async () => {\r\n    try {\r\n      const request = await axios.get(\"http://srvr1px.cyberads.io/permissionFormRead/\")\r\n      const response = await request?.data\r\n      setPermisson(response)\r\n    } catch (error) {\r\n      toast.error(\"unable to load user list\")\r\n    }\r\n  }\r\n\r\n  const handleClick = async () => {\r\n    const data = {\r\n      user_id: selectedUsers,\r\n      Permission: selectedPermission\r\n    }\r\n    try {\r\n      const request = await axios.post(\"http://srvr1px.cyberads.io/permissionAssign/\", data)\r\n      const response = await request?.data\r\n      toast.success(\"Uploaded\")\r\n    } catch (error) {\r\n      toast.error(\"unable to load user list\")\r\n    }\r\n  }\r\n  const options = [\r\n    { value: 'chocolate', label: 'Chocolate' },\r\n    { value: 'strawberry', label: 'Strawberry' },\r\n    { value: 'vanilla', label: 'Vanilla' }\r\n  ]\r\n  useEffect(() => {\r\n    PermissionData()\r\n    UserData()\r\n  }, [])\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <Row>\r\n      <button className=\"btn btn-primary\" onClick={e => setModel(!Model)}>Create new Path</button>\r\n        {/* <select\r\n          className=\"react-select form-control\"\r\n          value={selectedUsers}\r\n          onChange={handleUsers}\r\n          required\r\n        >\r\n          <option value={\"\"}>Choose Users</option>\r\n          {Users.map((id) => {\r\n            return (\r\n              <>\r\n              { (selectedUsers === id._id) ? <option value={id._id} selected>{id.user_name}</option> : <option value={id._id}>{id.user_name}</option>\r\n              }\r\n              </>\r\n            )\r\n          })}\r\n        </select> */}\r\n        <Select\r\n          defaultValue={selectedUsers}\r\n          onChange={setSelectedUsers}\r\n          options={Users}\r\n          getOptionLabel ={(option) => option.user_name}\r\n          getOptionValue ={(option) => option._id}\r\n          isMulti\r\n          theme={selectThemeColors}\r\n          name=\"Users\"\r\n          placeholder=\"Select Users\"\r\n        />\r\n\r\n        {selectedUsers !== \"\" && (\r\n          <>\r\n          <Select\r\n            defaultValue={selectedPermission}\r\n            onChange={setSelectedPermission}\r\n            options={Permission}\r\n            isMulti\r\n            theme={selectThemeColors}\r\n            name=\"Permission\"\r\n            placeholder=\"Select permission\"\r\n          />\r\n          </>\r\n        )}\r\n\r\n        <button onClick={handleClick} className=\"btn btn-primary\">\r\n          Submit{\" \"}\r\n        </button>\r\n        <Modal size=\"lg\" isOpen={Model} toggle={() => setModel(!Model)}>\r\n          <ModalHeader toggle={() => setModel(!Model)}>\r\n            Notification\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <Formik\r\n              initialValues={{ label: \"\", icon: \"\", path:\"\" }}\r\n             \r\n              onSubmit={async (values, { setSubmitting }) => {\r\n                // setTimeout(() => {\r\n                //   alert(JSON.stringify(values, null, 2))\r\n                // }, 400)\r\n                try {\r\n                  // values = [...values, {user_id:SelectedUsers}]\r\n                  const request = await axios.post(\"http://srvr1px.cyberads.io/permissionForm/\", values)\r\n                  const response = await request?.data\r\n                  toast.success(\"Navigation listed ...\")\r\n                  window.location.href = \"\"\r\n                } catch (error) {\r\n                  toast.error(\"navigation not listed\")\r\n                }\r\n                setSubmitting(false)\r\n\r\n              }}\r\n            >\r\n              {({\r\n                values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                isSubmitting\r\n                /* and other goodies */\r\n              }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                  <input\r\n                    type=\"label\"\r\n                    name=\"label\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.label}\r\n                    placeholder=\"label\"\r\n                    required\r\n                  />\r\n                  {errors.label && touched.label && errors.label}\r\n                  <input\r\n                    type=\"path\"\r\n                    name=\"path\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.path}\r\n                    placeholder=\"path\"\r\n                    required\r\n\r\n                  />\r\n                  {errors.path && touched.path && errors.path}\r\n                  <input\r\n                    type=\"icon\"\r\n                    name=\"icon\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.icon}\r\n                    placeholder=\"icon\"\r\n                    required\r\n                  />\r\n                  {errors.icon && touched.icon && errors.icon}\r\n                  <button type=\"submit\" disabled={isSubmitting}>\r\n                    Submit\r\n                  </button>\r\n                </form>\r\n              )}\r\n            </Formik>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Row className=\"laptophideCustomdropdown match-height mt-0 mb-1\">\r\n          <Col className=\"widthdate\" xl=\"12\" md=\"12\" xs=\"12\">\r\n            {/* Select User  */}\r\n            <Row>\r\n              {/* <Col className='' md='12' sm='12'> */}\r\n              {/* <h6 className='font-weight-bold'>Product</h6> */}\r\n\r\n              {/* </Col> */}\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}