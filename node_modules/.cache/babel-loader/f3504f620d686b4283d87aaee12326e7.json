{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\nsahi\\\\OneDrive\\\\Documents\\\\cyber_media\\\\cm_galaxy\\\\src\\\\views\\\\Permissions\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row } from \"reactstrap\";\nimport Select, { components } from \"react-select\";\nimport { selectThemeColors } from \"@utils\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Formik } from \"formik\";\nimport axios from \"axios\";\nimport PermissionTable from \"./PermissionTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function index() {\n  _s();\n\n  var _this = this;\n\n  // const usersData = [\n  //   {\n  //     id: \"1\",\n  //     name: \"Sahil\"\n  //   }\n  // ]\n  // const PermissionData = [\n  //   {\n  //     id: \"1\",\n  //     label: \"dashboard\",\n  //     name: \"dashboard\",\n  //   },\n  //   {\n  //     id: \"2\",\n  //     label: \"dashboard-2\",\n  //     name: \"dashboard-2\",\n  //   },\n  //   {\n  //     id: \"3\",\n  //     label: \"dashboard-3\",\n  //     name: \"dashboard-3\",\n  //   },\n  // ]\n  // const permissionForm = {\n  //   label: \"Dashboard\",\n  //   path: \"/index\",\n  //   icon: \"Home\",\n  // }\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Permission = _useState4[0],\n      setPermisson = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedUsers = _useState6[0],\n      setSelectedUsers = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedPermission = _useState8[0],\n      setSelectedPermission = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      Model = _useState10[0],\n      setModel = _useState10[1];\n\n  var permissions = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var request, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://srvr1px.cyberads.io/permissionFormRead/\");\n\n            case 3:\n              request = _context.sent;\n              _context.next = 6;\n              return request === null || request === void 0 ? void 0 : request.data;\n\n            case 6:\n              response = _context.sent;\n              console.log(response);\n              setPermisson(response);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              toast.error(_context.t0.response);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }));\n\n    return function permissions() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var UserData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var request, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.get(\"http://srvr1px.cyberads.io/usersData/\");\n\n            case 3:\n              request = _context2.sent;\n              _context2.next = 6;\n              return request === null || request === void 0 ? void 0 : request.data;\n\n            case 6:\n              response = _context2.sent;\n              setUsers(response);\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              toast.error(\"unable to load user list\");\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function UserData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              data = {\n                user_id: selectedUsers,\n                Permission: selectedPermission\n              };\n              console.log({\n                data: data\n              });\n              toast.success(\"Uploaded\");\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleClick() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    UserData();\n  }, []);\n  useEffect(function () {\n    permissions();\n  }, [selectedUsers]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          return setModel(!Model);\n        },\n        children: \"Create new Path\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        defaultValue: selectedUsers,\n        onChange: setSelectedUsers,\n        options: Users,\n        getOptionLabel: function getOptionLabel(option) {\n          return option.user_name;\n        },\n        getOptionValue: function getOptionValue(option) {\n          return option._id;\n        },\n        isMulti: true,\n        isSearchable: true,\n        theme: selectThemeColors,\n        name: \"users\",\n        placeholder: \"Select Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), selectedUsers.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          defaultValue: selectedPermission,\n          onChange: setSelectedPermission,\n          options: Permission,\n          getOptionValue: function getOptionValue(option) {\n            return option._id;\n          },\n          isMulti: true,\n          theme: selectThemeColors,\n          name: \"Permission\",\n          placeholder: \"Select permission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        className: \"btn btn-primary\",\n        children: [\"Submit\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        size: \"lg\",\n        isOpen: Model,\n        toggle: function toggle() {\n          return setModel(!Model);\n        },\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: function toggle() {\n            return setModel(!Model);\n          },\n          children: \"Notification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: {\n              label: \"\",\n              icon: \"\",\n              path: \"\"\n            },\n            onSubmit: /*#__PURE__*/function () {\n              var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(values, _ref4) {\n                var setSubmitting, request, response;\n                return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        setSubmitting = _ref4.setSubmitting;\n                        _context4.prev = 1;\n                        _context4.next = 4;\n                        return axios.post(\"http://srvr1px.cyberads.io/permissionForm/\", values);\n\n                      case 4:\n                        request = _context4.sent;\n                        _context4.next = 7;\n                        return request === null || request === void 0 ? void 0 : request.data;\n\n                      case 7:\n                        response = _context4.sent;\n                        toast.success(\"Navigation listed ...\");\n                        window.location.href = \"\";\n                        _context4.next = 15;\n                        break;\n\n                      case 12:\n                        _context4.prev = 12;\n                        _context4.t0 = _context4[\"catch\"](1);\n                        toast.error(\"navigation not listed\");\n\n                      case 15:\n                        setSubmitting(false);\n\n                      case 16:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, null, [[1, 12]]);\n              }));\n\n              return function (_x, _x2) {\n                return _ref5.apply(this, arguments);\n              };\n            }(),\n            children: function children(_ref6) {\n              var values = _ref6.values,\n                  errors = _ref6.errors,\n                  touched = _ref6.touched,\n                  handleChange = _ref6.handleChange,\n                  handleBlur = _ref6.handleBlur,\n                  handleSubmit = _ref6.handleSubmit,\n                  isSubmitting = _ref6.isSubmitting;\n              return /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"label\",\n                  name: \"label\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.label,\n                  placeholder: \"label\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 19\n                }, _this), errors.label && touched.label && errors.label, /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"path\",\n                  name: \"path\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.path,\n                  placeholder: \"path\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, _this), errors.path && touched.path && errors.path, /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"icon\",\n                  name: \"icon\",\n                  onChange: handleChange,\n                  onBlur: handleBlur,\n                  value: values.icon,\n                  placeholder: \"icon\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, _this), errors.icon && touched.icon && errors.icon, /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: isSubmitting,\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, _this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(PermissionTable, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(index, \"I4ChpCYigww3jSbEzgbyuZQX8fw=\");","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/Permissions/index.js"],"names":["React","useEffect","useState","Button","Col","Modal","ModalBody","ModalHeader","Row","Select","components","selectThemeColors","toast","ToastContainer","Formik","axios","PermissionTable","index","Users","setUsers","Permission","setPermisson","selectedUsers","setSelectedUsers","selectedPermission","setSelectedPermission","Model","setModel","permissions","get","request","data","response","console","log","error","UserData","handleClick","user_id","success","e","option","user_name","_id","length","label","icon","path","values","setSubmitting","post","window","location","href","errors","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row } from \"reactstrap\"\r\nimport Select, { components } from \"react-select\"\r\nimport { selectThemeColors } from \"@utils\"\r\nimport { toast, ToastContainer } from \"react-toastify\"\r\nimport { Formik } from \"formik\"\r\nimport axios from \"axios\"\r\nimport PermissionTable from \"./PermissionTable\"\r\n\r\nexport default function index() {\r\n  // const usersData = [\r\n  //   {\r\n  //     id: \"1\",\r\n  //     name: \"Sahil\"\r\n  //   }\r\n  // ]\r\n  // const PermissionData = [\r\n  //   {\r\n  //     id: \"1\",\r\n  //     label: \"dashboard\",\r\n  //     name: \"dashboard\",\r\n  //   },\r\n  //   {\r\n  //     id: \"2\",\r\n  //     label: \"dashboard-2\",\r\n  //     name: \"dashboard-2\",\r\n  //   },\r\n  //   {\r\n  //     id: \"3\",\r\n  //     label: \"dashboard-3\",\r\n  //     name: \"dashboard-3\",\r\n  //   },\r\n  // ]\r\n\r\n  // const permissionForm = {\r\n  //   label: \"Dashboard\",\r\n  //   path: \"/index\",\r\n  //   icon: \"Home\",\r\n  // }\r\n  const [Users, setUsers] = useState([])\r\n  const [Permission, setPermisson] = useState([])\r\n  const [selectedUsers, setSelectedUsers] = useState([])\r\n  const [selectedPermission, setSelectedPermission] = useState([])\r\n  const [Model, setModel] = useState(false)\r\n  const permissions = async () => {\r\n    try {\r\n      const request = await axios.get(\r\n        \"http://srvr1px.cyberads.io/permissionFormRead/\"\r\n      )\r\n      const response = await request?.data\r\n      console.log(response)\r\n      setPermisson(response)\r\n    } catch (error) {\r\n      toast.error(error.response)\r\n    }\r\n  }\r\n  const UserData = async () => {\r\n    try {\r\n      const request = await axios.get(\"http://srvr1px.cyberads.io/usersData/\")\r\n      const response = await request?.data\r\n      setUsers(response)\r\n    } catch (error) {\r\n      toast.error(\"unable to load user list\")\r\n    }\r\n  }\r\n\r\n  const handleClick = async () => {\r\n    const data = {\r\n      user_id: selectedUsers,\r\n      Permission: selectedPermission\r\n    }\r\n    console.log({data})\r\n    toast.success(\"Uploaded\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    UserData()\r\n  }, [])\r\n  useEffect(() => {\r\n    permissions()\r\n  }, [selectedUsers])\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <Row>\r\n        <button className=\"btn btn-primary\" onClick={(e) => setModel(!Model)}>\r\n          Create new Path\r\n        </button>\r\n        <Select\r\n          defaultValue={selectedUsers}\r\n          onChange={setSelectedUsers}\r\n          options={Users}\r\n          getOptionLabel={(option) => option.user_name}\r\n          getOptionValue={(option) => option._id}\r\n          isMulti\r\n          isSearchable={true}\r\n          theme={selectThemeColors}\r\n          name=\"users\"\r\n          placeholder=\"Select Users\"\r\n        />\r\n        {selectedUsers.length > 0 && (\r\n          <>\r\n            <Select\r\n              defaultValue={selectedPermission}\r\n              onChange={setSelectedPermission}\r\n              options={Permission}\r\n              getOptionValue = {option => option._id}\r\n              isMulti\r\n              theme={selectThemeColors}\r\n              name=\"Permission\"\r\n              placeholder=\"Select permission\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        <button onClick={handleClick} className=\"btn btn-primary\">\r\n          Submit{\" \"}\r\n        </button>\r\n        <Modal size=\"lg\" isOpen={Model} toggle={() => setModel(!Model)}>\r\n          <ModalHeader toggle={() => setModel(!Model)}>\r\n            Notification\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <Formik\r\n              initialValues={{ label: \"\", icon: \"\", path: \"\" }}\r\n              onSubmit={async (values, { setSubmitting }) => {\r\n                // setTimeout(() => {\r\n                //   alert(JSON.stringify(values, null, 2))\r\n                // }, 400)\r\n                try {\r\n                  // values = [...values, {user_id:SelectedUsers}]\r\n                  const request = await axios.post(\r\n                    \"http://srvr1px.cyberads.io/permissionForm/\",\r\n                    values\r\n                  )\r\n                  const response = await request?.data\r\n                  toast.success(\"Navigation listed ...\")\r\n                  window.location.href = \"\"\r\n                } catch (error) {\r\n                  toast.error(\"navigation not listed\")\r\n                }\r\n                setSubmitting(false)\r\n              }}\r\n            >\r\n              {({\r\n                values,\r\n                errors,\r\n                touched,\r\n                handleChange,\r\n                handleBlur,\r\n                handleSubmit,\r\n                isSubmitting\r\n                /* and other goodies */\r\n              }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                  <input\r\n                    type=\"label\"\r\n                    name=\"label\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.label}\r\n                    placeholder=\"label\"\r\n                    required\r\n                  />\r\n                  {errors.label && touched.label && errors.label}\r\n                  <input\r\n                    type=\"path\"\r\n                    name=\"path\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.path}\r\n                    placeholder=\"path\"\r\n                    required\r\n                  />\r\n                  {errors.path && touched.path && errors.path}\r\n                  <input\r\n                    type=\"icon\"\r\n                    name=\"icon\"\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    value={values.icon}\r\n                    placeholder=\"icon\"\r\n                    required\r\n                  />\r\n                  {errors.icon && touched.icon && errors.icon}\r\n                  <button type=\"submit\" disabled={isSubmitting}>\r\n                    Submit\r\n                  </button>\r\n                </form>\r\n              )}\r\n            </Formik>\r\n          </ModalBody>\r\n        </Modal>\r\n        {/* <Row className=\"laptophideCustomdropdown match-height mt-0 mb-1\">\r\n          <Col className=\"widthdate\" xl=\"12\" md=\"12\" xs=\"12\">\r\n            {/* Select User  */}\r\n        {/* <Row> */}\r\n        {/* <Col className='' md='12' sm='12'> */}\r\n        {/* <h6 className='font-weight-bold'>Product</h6> */}\r\n\r\n        {/* </Col> */}\r\n        {/* </Row>\r\n          </Col>\r\n        </Row> */}\r\n        <div className=\"mt-5\">\r\n          <PermissionTable />\r\n        </div>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}