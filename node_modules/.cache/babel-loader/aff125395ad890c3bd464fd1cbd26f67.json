{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ** React Imports\nimport{Fragment,useState}from'react';// ** Mail Components Imports\nimport MailCard from'./MailCard';import MailDetails from'./MailDetails';import ComposePopUp from'./ComposePopup';// ** Utils\nimport{formatDateToMonthShort}from'@utils';// ** Third Party Components\nimport PerfectScrollbar from'react-perfect-scrollbar';import{InputGroup,InputGroupAddon,Input,InputGroupText,CustomInput,DropdownMenu,DropdownItem,DropdownToggle,UncontrolledDropdown}from'reactstrap';import{Menu,Search,Folder,Tag,Mail,Trash,Edit2,Info}from'react-feather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Mails=function Mails(props){// ** Props\nvar query=props.query,store=props.store,setQuery=props.setQuery,dispatch=props.dispatch,selectMail=props.selectMail,composeOpen=props.composeOpen,updateMails=props.updateMails,paginateMail=props.paginateMail,selectAllMail=props.selectAllMail,toggleCompose=props.toggleCompose,setSidebarOpen=props.setSidebarOpen,updateMailLabel=props.updateMailLabel,resetSelectedMail=props.resetSelectedMail,selectCurrentMail=props.selectCurrentMail;var mails=store.mails,selectedMails=store.selectedMails;// ** States\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),openMail=_useState2[0],setOpenMail=_useState2[1];// ** Variables\nvar labelColors={personal:'success',company:'primary',important:'warning',private:'danger'};// ** Handles Update Functions\nvar handleMailClick=function handleMailClick(id){dispatch(selectCurrentMail(id));setOpenMail(true);};// ** Handles SelectAll\nvar handleSelectAll=function handleSelectAll(e){dispatch(selectAllMail(e.target.checked));};/*eslint-disable */ // ** Handles Folder Update\nvar handleFolderUpdate=function handleFolderUpdate(e,folder){var ids=arguments.length>2&&arguments[2]!==undefined?arguments[2]:selectedMails;e.preventDefault();dispatch(updateMails(ids,{folder:folder}));dispatch(resetSelectedMail());};// ** Handles Label Update\nvar handleLabelsUpdate=function handleLabelsUpdate(e,label){var ids=arguments.length>2&&arguments[2]!==undefined?arguments[2]:selectedMails;e.preventDefault();dispatch(updateMailLabel(ids,label));dispatch(resetSelectedMail());};// ** Handles Mail Read Update\nvar handleMailReadUpdate=function handleMailReadUpdate(arr,bool){dispatch(updateMails(arr,{isRead:bool})).then(function(){return dispatch(resetSelectedMail());});dispatch(selectAllMail(false));};// ** Handles Move to Trash\nvar handleMailToTrash=function handleMailToTrash(ids){dispatch(updateMails(ids,{folder:'trash'}));dispatch(resetSelectedMail());};/*eslint-enable */ // ** Renders Mail\nvar renderMails=function renderMails(){if(mails.length){return mails.map(function(mail,index){return/*#__PURE__*/_jsx(MailCard,{mail:mail,dispatch:dispatch,selectMail:selectMail,updateMails:updateMails,labelColors:labelColors,selectedMails:selectedMails,handleMailClick:handleMailClick,handleMailReadUpdate:handleMailReadUpdate,formatDateToMonthShort:formatDateToMonthShort},index);});}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email-app-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-fixed-search d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-toggle d-block d-lg-none ml-1\",onClick:function onClick(){return setSidebarOpen(true);},children:/*#__PURE__*/_jsx(Menu,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-content-center justify-content-between w-100\",children:/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-merge\",children:[/*#__PURE__*/_jsx(InputGroupAddon,{addonType:\"prepend\",children:/*#__PURE__*/_jsx(InputGroupText,{children:/*#__PURE__*/_jsx(Search,{className:\"text-muted\",size:14})})}),/*#__PURE__*/_jsx(Input,{id:\"email-search\",placeholder:\"Search email\",value:query,onChange:function onChange(e){return setQuery(e.target.value);}})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-action\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-left\",children:/*#__PURE__*/_jsx(CustomInput,{type:\"checkbox\",id:\"select-all\",label:\"Select All\",onChange:handleSelectAll,checked:selectedMails.length&&selectedMails.length===mails.length})}),selectedMails.length?/*#__PURE__*/_jsx(\"div\",{className:\"action-right\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline m-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item mr-1\",children:/*#__PURE__*/_jsxs(UncontrolledDropdown,{children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"span\",children:/*#__PURE__*/_jsx(Folder,{size:18})}),/*#__PURE__*/_jsxs(DropdownMenu,{right:true,children:[/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleFolderUpdate(e,'draft');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Edit2,{className:\"mr-50\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Draft\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleFolderUpdate(e,'spam');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Info,{className:\"mr-50\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Spam\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleFolderUpdate(e,'trash');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Trash,{className:\"mr-50\",size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Trash\"})]})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item mr-1\",children:/*#__PURE__*/_jsxs(UncontrolledDropdown,{children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"span\",children:/*#__PURE__*/_jsx(Tag,{size:18})}),/*#__PURE__*/_jsxs(DropdownMenu,{right:true,children:[/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleLabelsUpdate(e,'personal');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-success bullet-sm mr-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Personal\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleLabelsUpdate(e,'company');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-primary bullet-sm mr-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Company\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleLabelsUpdate(e,'important');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-warning bullet-sm mr-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Important\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{tag:\"a\",href:\"/\",onClick:function onClick(e){return handleLabelsUpdate(e,'private');},className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-danger bullet-sm mr-50\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Private\"})]})]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item mr-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"action-icon\",onClick:function onClick(){return handleMailReadUpdate(selectedMails,false);},children:/*#__PURE__*/_jsx(Mail,{size:18})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item mr-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"action-icon\",onClick:function onClick(){return handleMailToTrash(selectedMails);},children:/*#__PURE__*/_jsx(Trash,{size:18})})})]})}):null]}),/*#__PURE__*/_jsx(PerfectScrollbar,{className:\"email-user-list\",options:{wheelPropagation:false},children:mails.length?/*#__PURE__*/_jsx(\"ul\",{className:\"email-media-list\",children:renderMails()}):/*#__PURE__*/_jsx(\"div\",{className:\"no-results d-block\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"No Items Found\"})})})]}),/*#__PURE__*/_jsx(MailDetails,{openMail:openMail,dispatch:dispatch,mail:store.currentMail,labelColors:labelColors,setOpenMail:setOpenMail,updateMails:updateMails,paginateMail:paginateMail,updateMailLabel:updateMailLabel,handleMailToTrash:handleMailToTrash,handleFolderUpdate:handleFolderUpdate,handleLabelsUpdate:handleLabelsUpdate,handleMailReadUpdate:handleMailReadUpdate,formatDateToMonthShort:formatDateToMonthShort}),/*#__PURE__*/_jsx(ComposePopUp,{composeOpen:composeOpen,toggleCompose:toggleCompose})]});};export default Mails;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/apps/email/Mails.js"],"names":["Fragment","useState","MailCard","MailDetails","ComposePopUp","formatDateToMonthShort","PerfectScrollbar","InputGroup","InputGroupAddon","Input","InputGroupText","CustomInput","DropdownMenu","DropdownItem","DropdownToggle","UncontrolledDropdown","Menu","Search","Folder","Tag","Mail","Trash","Edit2","Info","Mails","props","query","store","setQuery","dispatch","selectMail","composeOpen","updateMails","paginateMail","selectAllMail","toggleCompose","setSidebarOpen","updateMailLabel","resetSelectedMail","selectCurrentMail","mails","selectedMails","openMail","setOpenMail","labelColors","personal","company","important","private","handleMailClick","id","handleSelectAll","e","target","checked","handleFolderUpdate","folder","ids","preventDefault","handleLabelsUpdate","label","handleMailReadUpdate","arr","bool","isRead","then","handleMailToTrash","renderMails","length","map","mail","index","value","wheelPropagation","currentMail"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\n\r\n// ** Mail Components Imports\r\nimport MailCard from './MailCard'\r\nimport MailDetails from './MailDetails'\r\nimport ComposePopUp from './ComposePopup'\r\n\r\n// ** Utils\r\nimport { formatDateToMonthShort } from '@utils'\r\n\r\n// ** Third Party Components\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport {\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  Input,\r\n  InputGroupText,\r\n  CustomInput,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown\r\n} from 'reactstrap'\r\nimport { Menu, Search, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather'\r\n\r\nconst Mails = props => {\r\n  // ** Props\r\n  const {\r\n    query,\r\n    store,\r\n    setQuery,\r\n    dispatch,\r\n    selectMail,\r\n    composeOpen,\r\n    updateMails,\r\n    paginateMail,\r\n    selectAllMail,\r\n    toggleCompose,\r\n    setSidebarOpen,\r\n    updateMailLabel,\r\n    resetSelectedMail,\r\n    selectCurrentMail\r\n  } = props\r\n\r\n  const { mails, selectedMails } = store\r\n\r\n  // ** States\r\n  const [openMail, setOpenMail] = useState(false)\r\n\r\n  // ** Variables\r\n  const labelColors = {\r\n    personal: 'success',\r\n    company: 'primary',\r\n    important: 'warning',\r\n    private: 'danger'\r\n  }\r\n\r\n  // ** Handles Update Functions\r\n  const handleMailClick = id => {\r\n    dispatch(selectCurrentMail(id))\r\n    setOpenMail(true)\r\n  }\r\n\r\n  // ** Handles SelectAll\r\n  const handleSelectAll = e => {\r\n    dispatch(selectAllMail(e.target.checked))\r\n  }\r\n\r\n  /*eslint-disable */\r\n\r\n  // ** Handles Folder Update\r\n  const handleFolderUpdate = (e, folder, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMails(ids, { folder }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Label Update\r\n  const handleLabelsUpdate = (e, label, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMailLabel(ids, label))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Mail Read Update\r\n  const handleMailReadUpdate = (arr, bool) => {\r\n    dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\r\n    dispatch(selectAllMail(false))\r\n  }\r\n\r\n  // ** Handles Move to Trash\r\n  const handleMailToTrash = ids => {\r\n    dispatch(updateMails(ids, { folder: 'trash' }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n  /*eslint-enable */\r\n\r\n  // ** Renders Mail\r\n  const renderMails = () => {\r\n    if (mails.length) {\r\n      return mails.map((mail, index) => {\r\n        return (\r\n          <MailCard\r\n            mail={mail}\r\n            key={index}\r\n            dispatch={dispatch}\r\n            selectMail={selectMail}\r\n            updateMails={updateMails}\r\n            labelColors={labelColors}\r\n            selectedMails={selectedMails}\r\n            handleMailClick={handleMailClick}\r\n            handleMailReadUpdate={handleMailReadUpdate}\r\n            formatDateToMonthShort={formatDateToMonthShort}\r\n          />\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='email-app-list'>\r\n        <div className='app-fixed-search d-flex align-items-center'>\r\n          <div className='sidebar-toggle d-block d-lg-none ml-1' onClick={() => setSidebarOpen(true)}>\r\n            <Menu />\r\n          </div>\r\n          <div className='d-flex align-content-center justify-content-between w-100'>\r\n            <InputGroup className='input-group-merge'>\r\n              <InputGroupAddon addonType='prepend'>\r\n                <InputGroupText>\r\n                  <Search className='text-muted' size={14} />\r\n                </InputGroupText>\r\n              </InputGroupAddon>\r\n              <Input\r\n                id='email-search'\r\n                placeholder='Search email'\r\n                value={query}\r\n                onChange={e => setQuery(e.target.value)}\r\n              />\r\n            </InputGroup>\r\n          </div>\r\n        </div>\r\n        <div className='app-action'>\r\n          <div className='action-left'>\r\n            <CustomInput\r\n              type='checkbox'\r\n              id='select-all'\r\n              label='Select All'\r\n              onChange={handleSelectAll}\r\n              checked={selectedMails.length && selectedMails.length === mails.length}\r\n            />\r\n          </div>\r\n          {selectedMails.length ? (\r\n            <div className='action-right'>\r\n              <ul className='list-inline m-0'>\r\n                <li className='list-inline-item mr-1'>\r\n                  <UncontrolledDropdown>\r\n                    <DropdownToggle tag='span'>\r\n                      <Folder size={18} />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu right>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleFolderUpdate(e, 'draft')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <Edit2 className='mr-50' size={18} />\r\n                        <span>Draft</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleFolderUpdate(e, 'spam')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <Info className='mr-50' size={18} />\r\n                        <span>Spam</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleFolderUpdate(e, 'trash')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <Trash className='mr-50' size={18} />\r\n                        <span>Trash</span>\r\n                      </DropdownItem>\r\n                    </DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                </li>\r\n                <li className='list-inline-item mr-1'>\r\n                  <UncontrolledDropdown>\r\n                    <DropdownToggle tag='span'>\r\n                      <Tag size={18} />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu right>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'personal')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-success bullet-sm mr-50' />\r\n                        <span>Personal</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'company')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-primary bullet-sm mr-50' />\r\n                        <span>Company</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'important')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-warning bullet-sm mr-50' />\r\n                        <span>Important</span>\r\n                      </DropdownItem>\r\n                      <DropdownItem\r\n                        tag='a'\r\n                        href='/'\r\n                        onClick={e => handleLabelsUpdate(e, 'private')}\r\n                        className='d-flex align-items-center'\r\n                      >\r\n                        <span className='bullet bullet-danger bullet-sm mr-50' />\r\n                        <span>Private</span>\r\n                      </DropdownItem>\r\n                    </DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                </li>\r\n                <li className='list-inline-item mr-1'>\r\n                  <span className='action-icon' onClick={() => handleMailReadUpdate(selectedMails, false)}>\r\n                    <Mail size={18} />\r\n                  </span>\r\n                </li>\r\n                <li className='list-inline-item mr-1'>\r\n                  <span className='action-icon' onClick={() => handleMailToTrash(selectedMails)}>\r\n                    <Trash size={18} />\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: false }}>\r\n          {mails.length ? (\r\n            <ul className='email-media-list'>{renderMails()}</ul>\r\n          ) : (\r\n            <div className='no-results d-block'>\r\n              <h5>No Items Found</h5>\r\n            </div>\r\n          )}\r\n        </PerfectScrollbar>\r\n      </div>\r\n      <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={store.currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      />\r\n      <ComposePopUp composeOpen={composeOpen} toggleCompose={toggleCompose} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Mails\r\n"]},"metadata":{},"sourceType":"module"}