{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ** React Imports\nimport{Fragment,useState,useEffect}from'react';// ** Invoice List Sidebar\nimport Sidebar from'./Sidebar';// ** Columns\nimport{columns}from'./columns';// ** Store & Actions\nimport{getAllData,getData}from'../store/action';import{useDispatch,useSelector}from'react-redux';// ** Third Party Components\nimport Select from'react-select';import ReactPaginate from'react-paginate';import{ChevronDown}from'react-feather';import DataTable from'react-data-table-component';// import { selectThemeColors } from '@utils'\nimport{Card,CardHeader,CardTitle,CardBody,Input,Row,Col,Label,CustomInput,Button}from'reactstrap';// ** Styles\nimport'@styles/react/libs/react-select/_react-select.scss';import'@styles/react/libs/tables/react-dataTable-component.scss';// ** Table Header\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomHeader=function CustomHeader(_ref){var toggleSidebar=_ref.toggleSidebar,handlePerPage=_ref.handlePerPage,rowsPerPage=_ref.rowsPerPage,handleFilter=_ref.handleFilter,searchTerm=_ref.searchTerm;return/*#__PURE__*/_jsx(\"div\",{className:\"invoice-list-table-header w-100 mr-1 ml-50 mt-2 mb-75\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xl:\"6\",className:\"d-flex align-items-center p-0\"}),/*#__PURE__*/_jsxs(Col,{xl:\"6\",className:\"d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pr-lg-1 p-0 mt-lg-0 mt-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-sm-0 mb-1 mr-1\",children:[/*#__PURE__*/_jsx(Label,{className:\"mb-0\",for:\"search-invoice\",children:\"Search:\"}),/*#__PURE__*/_jsx(Input,{id:\"search-invoice\",className:\"ml-50 w-100\",type:\"text\",value:searchTerm,onChange:function onChange(e){return handleFilter(e.target.value);}})]}),/*#__PURE__*/_jsx(Button.Ripple,{color:\"primary\",onClick:toggleSidebar,children:\"Add New\"})]})]})});};var UsersList=function UsersList(){// ** Store Vars\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.users;});// localStorage.setItem(\"tester\", JSON.stringify(store))\n// ** States\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sidebarOpen=_useState4[0],setSidebarOpen=_useState4[1];var _useState5=useState({value:'',label:'Select Role'}),_useState6=_slicedToArray(_useState5,2),currentRole=_useState6[0],setCurrentRole=_useState6[1];var _useState7=useState({value:'',label:'Select Plan'}),_useState8=_slicedToArray(_useState7,2),currentPlan=_useState8[0],setCurrentPlan=_useState8[1];var _useState9=useState({value:'',label:'Select Status',number:0}),_useState10=_slicedToArray(_useState9,2),currentStatus=_useState10[0],setCurrentStatus=_useState10[1];// our added code below\nvar _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),currentPage=_useState12[0],setCurrentPage=_useState12[1];var _useState13=useState(7),_useState14=_slicedToArray(_useState13,2),rowsPerPage=_useState14[0],setRowsPerPage=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),searchValue=_useState16[0],setSearchValue=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),pages=_useState18[0],setPages=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),cur=_useState20[0],setCur=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),allData=_useState22[0],setAllData=_useState22[1];// adword_cpc\nvar fet='https://srvr1px.cyberads.io/adword_cpc/';var page=\"?page=\";var x=1;useState(function(){fetch(fet+page+x,{method:'GET'}).then(function(res){return res.json();}).then(function(result){// setSearchValue(result[2])\n// setStore(result)\nsetAllData(result);result.map(function(res){setPages(res.total_pages);//setCur(res.current_page)\n});},function(error){//this.setState({ error });\n});});// ** Function to toggle sidebar\nvar toggleSidebar=function toggleSidebar(){return setSidebarOpen(!sidebarOpen);};// ** Get data on mount\nuseEffect(function(){dispatch(getAllData());dispatch(getData({page:currentPage,perPage:rowsPerPage,role:currentRole.value,currentPlan:currentPlan.value,status:currentStatus.value,q:searchTerm}));},[dispatch,store.data.length]);var roleOptions=[{value:'',label:'Select Role'},{value:'admin',label:'Admin'},{value:'author',label:'Author'},{value:'editor',label:'Editor'},{value:'maintainer',label:'Maintainer'},{value:'subscriber',label:'Subscriber'}];var planOptions=[{value:'',label:'Select Plan'},{value:'basic',label:'Basic'},{value:'company',label:'Company'},{value:'enterprise',label:'Enterprise'},{value:'team',label:'Team'}];var statusOptions=[{value:'',label:'Select Status',number:0},{value:'pending',label:'Pending',number:1},{value:'active',label:'Active',number:2},{value:'inactive',label:'Inactive',number:3}];var handlePagination=function handlePagination(page){var s=JSON.stringify(page).split(':');var sel=s[1].split('}');var sel_val=parseInt(sel[0])+1;var page1=\"?page=\";fetch(fet+page1+sel_val,{method:'GET'}).then(function(res){return res.json();}).then(function(result){// setStore(result)\nsetAllData(result);result.map(function(res){setPages(res.total_pages);//setCur(res.current_page)\n});},function(error){//this.setState({ error });\n});/*getData({\r\n      page: page.selected + 1,\r\n      perPage: rowsPerPage,\r\n      q: searchValue\r\n    })*/setCurrentPage(page.selected+1);};// ** Function in get data on rows per page\nvar handlePerPage=function handlePerPage(e){var value=parseInt(e.currentTarget.value);dispatch(getData({page:currentPage,perPage:value,role:currentRole.value,currentPlan:currentPlan.value,status:currentStatus.value,q:searchTerm}));setRowsPerPage(value);};// ** Function in get data on search query change\nvar handleFilter=function handleFilter(val){setSearchTerm(val);dispatch(getData({page:currentPage,perPage:rowsPerPage,role:currentRole.value,currentPlan:currentPlan.value,status:currentStatus.value,q:val}));};// ** Custom Pagination\nvar CustomPagination=function CustomPagination(){var count=pages;return/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:'',nextLabel:'',breakLabel:\"...\",pageCount:count||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:\"active\",forcePage:currentPage!==0?currentPage-1:0,onPageChange:function onPageChange(page){return handlePagination(page);},pageClassName:'page-item',nextLinkClassName:'page-link',nextClassName:'page-item next',previousClassName:'page-item prev',previousLinkClassName:'page-link',pageLinkClassName:'page-link',breakClassName:\"page-item\",breakLinkClassName:\"page-link\",containerClassName:'pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-2'});};var dataToRender=function dataToRender(){var filters={role:currentRole.value,currentPlan:currentPlan.value,status:currentStatus.value,q:searchTerm};var isFiltered=Object.keys(filters).some(function(k){return filters[k].length>0;});if(store.length>0){return store;}else if(store.length===0&&isFiltered){return[];}else{return allData.slice(0,rowsPerPage);}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(DataTable,{noHeader:true,pagination:true,subHeader:true,responsive:true,paginationServer:true,columns:columns,sortIcon:/*#__PURE__*/_jsx(ChevronDown,{}),className:\"react-dataTable\",paginationComponent:CustomPagination,data:dataToRender(),subHeaderComponent:/*#__PURE__*/_jsx(CustomHeader,{toggleSidebar:toggleSidebar,handlePerPage:handlePerPage,rowsPerPage:rowsPerPage,searchTerm:searchTerm,handleFilter:handleFilter})})}),/*#__PURE__*/_jsx(Sidebar,{open:sidebarOpen,toggleSidebar:toggleSidebar})]});};export default UsersList;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/manage-user/user/list/Table.js"],"names":["Fragment","useState","useEffect","Sidebar","columns","getAllData","getData","useDispatch","useSelector","Select","ReactPaginate","ChevronDown","DataTable","Card","CardHeader","CardTitle","CardBody","Input","Row","Col","Label","CustomInput","Button","CustomHeader","toggleSidebar","handlePerPage","rowsPerPage","handleFilter","searchTerm","e","target","value","UsersList","dispatch","store","state","users","setSearchTerm","sidebarOpen","setSidebarOpen","label","currentRole","setCurrentRole","currentPlan","setCurrentPlan","number","currentStatus","setCurrentStatus","currentPage","setCurrentPage","setRowsPerPage","searchValue","setSearchValue","pages","setPages","cur","setCur","allData","setAllData","fet","page","x","fetch","method","then","res","json","result","map","total_pages","error","perPage","role","status","q","data","length","roleOptions","planOptions","statusOptions","handlePagination","s","JSON","stringify","split","sel","sel_val","parseInt","page1","selected","currentTarget","val","CustomPagination","count","dataToRender","filters","isFiltered","Object","keys","some","k","slice"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState, useEffect } from 'react'\r\n\r\n// ** Invoice List Sidebar\r\nimport Sidebar from './Sidebar'\r\n\r\n// ** Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Store & Actions\r\nimport { getAllData, getData } from '../store/action'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n// ** Third Party Components\r\nimport Select from 'react-select'\r\nimport ReactPaginate from 'react-paginate'\r\nimport { ChevronDown } from 'react-feather'\r\nimport DataTable from 'react-data-table-component'\r\n// import { selectThemeColors } from '@utils'\r\nimport { Card, CardHeader, CardTitle, CardBody, Input, Row, Col, Label, CustomInput, Button } from 'reactstrap'\r\n\r\n// ** Styles\r\nimport '@styles/react/libs/react-select/_react-select.scss'\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\n// ** Table Header\r\nconst CustomHeader = ({ toggleSidebar, handlePerPage, rowsPerPage, handleFilter, searchTerm }) => {\r\n  return (\r\n    <div className='invoice-list-table-header w-100 mr-1 ml-50 mt-2 mb-75'>\r\n      <Row>\r\n        <Col xl='6' className='d-flex align-items-center p-0'>\r\n          {/* <div className='d-flex align-items-center w-100'>\r\n            <Label for='rows-per-page'>Show</Label>\r\n            <CustomInput\r\n              className='form-control mx-50'\r\n              type='select'\r\n              id='rows-per-page'\r\n              value={rowsPerPage}\r\n              onChange={handlePerPage}\r\n              style={{\r\n                width: '5rem',\r\n                padding: '0 0.8rem',\r\n                backgroundPosition: 'calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0'\r\n              }}\r\n            >\r\n              <option value='10'>10</option>\r\n              <option value='25'>25</option>\r\n              <option value='50'>50</option>\r\n            </CustomInput>\r\n            <Label for='rows-per-page'>Entries</Label>\r\n          </div> */}\r\n        </Col>\r\n\r\n        <Col\r\n          xl='6'\r\n          className='d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pr-lg-1 p-0 mt-lg-0 mt-1'\r\n        >\r\n          <div className='d-flex align-items-center mb-sm-0 mb-1 mr-1'>\r\n            <Label className='mb-0' for='search-invoice'>\r\n              Search:\r\n            </Label>\r\n            <Input\r\n              id='search-invoice'\r\n              className='ml-50 w-100'\r\n              type='text'\r\n              value={searchTerm}\r\n              onChange={e => handleFilter(e.target.value)}\r\n            />\r\n          </div>\r\n          <Button.Ripple color='primary' onClick={toggleSidebar}>\r\n            Add New\r\n          </Button.Ripple>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UsersList = () => {\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.users)\r\n  // localStorage.setItem(\"tester\", JSON.stringify(store))\r\n  // ** States\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [sidebarOpen, setSidebarOpen] = useState(false)\r\n  const [currentRole, setCurrentRole] = useState({ value: '', label: 'Select Role' })\r\n  const [currentPlan, setCurrentPlan] = useState({ value: '', label: 'Select Plan' })\r\n  const [currentStatus, setCurrentStatus] = useState({ value: '', label: 'Select Status', number: 0 })\r\n  // our added code below\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [rowsPerPage, setRowsPerPage] = useState(7)\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [pages, setPages] = useState('')\r\n  const [cur, setCur] = useState('')\r\n  const [allData, setAllData] = useState([])\r\n// adword_cpc\r\n  const fet = 'https://srvr1px.cyberads.io/adword_cpc/'\r\n  \r\n  const page = \"?page=\"\r\n  const x = 1\r\n  useState(() => {\r\n\r\n    fetch(fet + page + x,\r\n      {\r\n        method: 'GET'\r\n      })\r\n      .then(res => res.json())\r\n      .then((result) => {\r\n        // setSearchValue(result[2])\r\n        // setStore(result)\r\n\r\n        setAllData(result)\r\n        result.map(res => {\r\n          setPages(res.total_pages)\r\n          //setCur(res.current_page)\r\n        })\r\n\r\n      },\r\n        (error) => {\r\n          //this.setState({ error });\r\n        }\r\n      )\r\n  })\r\n\r\n  // ** Function to toggle sidebar\r\n  const toggleSidebar = () => setSidebarOpen(!sidebarOpen)\r\n  \r\n  // ** Get data on mount\r\n  useEffect(() => {\r\n    dispatch(getAllData())\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        role: currentRole.value,\r\n        currentPlan: currentPlan.value,\r\n        status: currentStatus.value,\r\n        q: searchTerm\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  const roleOptions = [\r\n    { value: '', label: 'Select Role' },\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'author', label: 'Author' },\r\n    { value: 'editor', label: 'Editor' },\r\n    { value: 'maintainer', label: 'Maintainer' },\r\n    { value: 'subscriber', label: 'Subscriber' }\r\n  ]\r\n\r\n  const planOptions = [\r\n    { value: '', label: 'Select Plan' },\r\n    { value: 'basic', label: 'Basic' },\r\n    { value: 'company', label: 'Company' },\r\n    { value: 'enterprise', label: 'Enterprise' },\r\n    { value: 'team', label: 'Team' }\r\n  ]\r\n\r\n  const statusOptions = [\r\n    { value: '', label: 'Select Status', number: 0 },\r\n    { value: 'pending', label: 'Pending', number: 1 },\r\n    { value: 'active', label: 'Active', number: 2 },\r\n    { value: 'inactive', label: 'Inactive', number: 3 }\r\n  ]\r\n\r\n  const handlePagination = page => {\r\n    const s = JSON.stringify(page).split(':')\r\n    const sel = s[1].split('}')\r\n    const sel_val = parseInt(sel[0]) + 1\r\n    const page1 = \"?page=\"\r\n  \r\n    fetch(fet + page1 + sel_val,\r\n      {\r\n\r\n      \r\n        method: 'GET'\r\n      })\r\n      .then(res => res.json())\r\n      .then((result) => {\r\n        // setStore(result)\r\n\r\n        setAllData(result)\r\n        result.map(res => {\r\n          setPages(res.total_pages)\r\n          //setCur(res.current_page)\r\n        })\r\n      },\r\n        (error) => {\r\n          //this.setState({ error });\r\n        }\r\n      )\r\n    /*getData({\r\n      page: page.selected + 1,\r\n      perPage: rowsPerPage,\r\n      q: searchValue\r\n    })*/\r\n\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n    // ** Function in get data on rows per page\r\n    const handlePerPage = e => {\r\n      const value = parseInt(e.currentTarget.value)\r\n      dispatch(\r\n        getData({\r\n          page: currentPage,\r\n          perPage: value,\r\n          role: currentRole.value,\r\n          currentPlan: currentPlan.value,\r\n          status: currentStatus.value,\r\n          q: searchTerm\r\n        })\r\n      )\r\n      setRowsPerPage(value)\r\n    }\r\n\r\n   // ** Function in get data on search query change\r\n   const handleFilter = val => {\r\n    setSearchTerm(val)\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        role: currentRole.value,\r\n        currentPlan: currentPlan.value,\r\n        status: currentStatus.value,\r\n        q: val\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n    const count = pages\r\n\r\n  return (\r\n    <ReactPaginate\r\n      previousLabel={''}\r\n      nextLabel={''}\r\n      breakLabel='...'\r\n      pageCount={count || 1}\r\n      marginPagesDisplayed={2}\r\n      pageRangeDisplayed={2}\r\n      activeClassName='active'\r\n      forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n      onPageChange={page => handlePagination(page)}\r\n      pageClassName={'page-item'}\r\n      nextLinkClassName={'page-link'}\r\n      nextClassName={'page-item next'}\r\n      previousClassName={'page-item prev'}\r\n      previousLinkClassName={'page-link'}\r\n      pageLinkClassName={'page-link'}\r\n      breakClassName='page-item'\r\n      breakLinkClassName='page-link'\r\n      containerClassName={\r\n        'pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-2'\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      role: currentRole.value,\r\n      currentPlan: currentPlan.value,\r\n      status: currentStatus.value,\r\n      q: searchTerm\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.length > 0) {\r\n      return store\r\n    } else if (store.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Card>\r\n        <DataTable\r\n          noHeader\r\n          pagination\r\n          subHeader\r\n          responsive\r\n          paginationServer\r\n          columns={columns}\r\n          sortIcon={<ChevronDown />}\r\n          className='react-dataTable'\r\n          paginationComponent={CustomPagination}\r\n          data={dataToRender()}\r\n          subHeaderComponent={\r\n            <CustomHeader\r\n              toggleSidebar={toggleSidebar}\r\n              handlePerPage={handlePerPage}\r\n              rowsPerPage={rowsPerPage}\r\n              searchTerm={searchTerm}\r\n              handleFilter={handleFilter}\r\n            />\r\n          }\r\n        />\r\n      </Card>\r\n\r\n      <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default UsersList\r\n"]},"metadata":{},"sourceType":"module"}