{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import PerfectScrollbar from'react-perfect-scrollbar';import{Redirect}from'react-router-dom';import{Modal,ModalBody,ModalHeader,Row,Col,Badge,CardHeader}from'reactstrap';import UserDetail from'./UserDetail';import TablerChart from'./conversion/TablerChart';import CircleChart from'./conversion/CircleChart';import axios from'axios';import{FaUser}from'react-icons/fa';import{AiOutlineClose}from'react-icons/ai';import DateWiseProductPurchase from'./conversion/DateWiseProductPurchase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Table=function Table(_ref){var _customerData$gender,_customerData$gender2;var data=_ref.data,selectedCategory=_ref.selectedCategory;var style={marginTop:'-5px',// marginRight: '-10px',\ncursor:'pointer'};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal=_useState2[0],setModal=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dateWiseProductPurchase=_useState4[0],setDateWiseProductPurchase=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dateWiseSessionAndTime=_useState6[0],setDateWiseSessionAndTime=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),customerData=_useState8[0],setCustomerData=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),pieChartProductPurchase=_useState10[0],setPieChartProductPurchase=_useState10[1];var userDetail=function userDetail(userEmail,orderId){setModal(true);var brand_name=localStorage.getItem('brand_name');var userInfo={order_id:orderId,brand:brand_name};fetch('https://srvr1px.cyberads.io/userCycle/',{// ---- API for Conversion-User Details ----\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userInfo)}).then(function(response){return response.json();}).then(function(data){setDateWiseProductPurchase(data.dateWiseProductPurchase);setDateWiseSessionAndTime(data.dateWiseSessionAndTime);setCustomerData(data.customerInfo);setPieChartProductPurchase(data.pieChartProductPurchase);});};function IsJsonString(str){try{var json=JSON.parse(str);return typeof json==='object';}catch(e){return false;}}var brand;if(IsJsonString(localStorage.getItem(\"brand_name\"))){brand=JSON.parse(localStorage.getItem(\"brand_name\"));}else{brand=localStorage.getItem(\"brand_name\");}var downloadHandle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"https://srvr1px.cyberads.io/getexcelData/\",{type:selectedCategory,brand:brand});case 2:request=_context.sent;_context.next=5;return request.data;case 5:response=_context.sent;window.location.href=response===null||response===void 0?void 0:response.url;case 7:case\"end\":return _context.stop();}}},_callee);}));return function downloadHandle(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"form\",{className:\"form-inline my-lg-0\",children:/*#__PURE__*/_jsx(\"button\",{className:\"mb-1 btn btn-primary\",onClick:downloadHandle,children:\"Download\"})})}),/*#__PURE__*/_jsx(PerfectScrollbar,{className:\"hide1 d-none funneltable\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-warning\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead rounded\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-warning\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning text-black\",scope:\"col\",children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning text-black\",scope:\"col\",children:\"Country\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning text-black\",scope:\"col\",children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning text-black\",scope:\"col\",children:\"Device\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning text-black\",scope:\"col\",children:\"Model\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-warning text-black\",scope:\"col\",children:\"Os\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(data===null||data===void 0?void 0:data.tofuData)&&(data===null||data===void 0?void 0:data.tofuData.map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-black\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.country_name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.city_name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.user_agent_device_brand}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.user_agent_device_model}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.user_agent_Os_family})]})});}))})]})}),/*#__PURE__*/_jsx(PerfectScrollbar,{className:\"hide2 d-none funneltable\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-primary\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead rounded\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-primary\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Country\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Source Medium\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Device\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Model\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Os\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-primary text-white\",scope:\"col\",children:\"Session\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(data===null||data===void 0?void 0:data.mofuData)&&(data===null||data===void 0?void 0:data.mofuData.map(function(item,index){var _item$Device,_item$Device2;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-black\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.Country}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.City}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.source_medium}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:(item===null||item===void 0?void 0:(_item$Device=item.Device)===null||_item$Device===void 0?void 0:_item$Device.charAt(0).toUpperCase())+(item===null||item===void 0?void 0:(_item$Device2=item.Device)===null||_item$Device2===void 0?void 0:_item$Device2.slice(1))}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.device_model}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.OS}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.Sessions})]})});}))})]})}),/*#__PURE__*/_jsx(PerfectScrollbar,{className:\"hide3 d-none funneltable\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-secondary\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead rounded\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-secondary\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"created at\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"source\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"order name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-secondary text-white\",scope:\"col\",children:\"total price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(data===null||data===void 0?void 0:data.bofuData)&&(data===null||data===void 0?void 0:data.bofuData.map(function(item,index){var _item$source,_item$source2;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-black\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.email}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black text-nowrap\",children:item===null||item===void 0?void 0:item.created_at}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:(item===null||item===void 0?void 0:item.source)===\"\"?'Organic':(item===null||item===void 0?void 0:(_item$source=item.source)===null||_item$source===void 0?void 0:_item$source.charAt(0).toUpperCase())+(item===null||item===void 0?void 0:(_item$source2=item.source)===null||_item$source2===void 0?void 0:_item$source2.slice(1))}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-black text-nowrap\",children:[item===null||item===void 0?void 0:item.first_name,\" \",item===null||item===void 0?void 0:item.last_name]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.order_name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.total_price})]})});}))})]})}),/*#__PURE__*/_jsxs(PerfectScrollbar,{className:\"hide4 d-none funneltable\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-success\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead rounded\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-success\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"Sr. No.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"First Source\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"Finale Source\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"gateway\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"financial status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"order name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bg-success text-white\",scope:\"col\",children:\"total price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(data===null||data===void 0?void 0:data.convertionsData)&&(data===null||data===void 0?void 0:data.convertionsData.map(function(item,index){var _item$firstSource,_item$firstSource2,_item$source3,_item$source4,_item$gateway,_item$gateway2,_item$financial_statu,_item$financial_statu2;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-black\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",onClick:function onClick(){return userDetail(item===null||item===void 0?void 0:item.email,item===null||item===void 0?void 0:item.order_id);},children:/*#__PURE__*/_jsx(\"a\",{children:/*#__PURE__*/_jsx(\"u\",{children:item===null||item===void 0?void 0:item.email})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:(item===null||item===void 0?void 0:item.firstSource)===\"\"?'Organic':(item===null||item===void 0?void 0:(_item$firstSource=item.firstSource)===null||_item$firstSource===void 0?void 0:_item$firstSource.charAt(0).toUpperCase())+(item===null||item===void 0?void 0:(_item$firstSource2=item.firstSource)===null||_item$firstSource2===void 0?void 0:_item$firstSource2.slice(1))}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:(item===null||item===void 0?void 0:item.source)===\"\"?'Organic':(item===null||item===void 0?void 0:(_item$source3=item.source)===null||_item$source3===void 0?void 0:_item$source3.charAt(0).toUpperCase())+(item===null||item===void 0?void 0:(_item$source4=item.source)===null||_item$source4===void 0?void 0:_item$source4.slice(1))}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:(item===null||item===void 0?void 0:(_item$gateway=item.gateway)===null||_item$gateway===void 0?void 0:_item$gateway.charAt(0).toUpperCase())+(item===null||item===void 0?void 0:(_item$gateway2=item.gateway)===null||_item$gateway2===void 0?void 0:_item$gateway2.slice(1))}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:(item===null||item===void 0?void 0:(_item$financial_statu=item.financial_status)===null||_item$financial_statu===void 0?void 0:_item$financial_statu.charAt(0).toUpperCase())+(item===null||item===void 0?void 0:(_item$financial_statu2=item.financial_status)===null||_item$financial_statu2===void 0?void 0:_item$financial_statu2.slice(1))}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.order_name}),/*#__PURE__*/_jsx(\"td\",{className:\"text-black\",children:item===null||item===void 0?void 0:item.total_price})]})});}))})]}),/*#__PURE__*/_jsxs(Modal,{size:\"xl\",isOpen:modal,toggle:function toggle(){return setModal(!modal);},children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"d-flex justify-content-between align-items-top\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FaUser,{size:20}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"User Details\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(AiOutlineClose,{size:20,style:style,className:\"rounded\",onClick:function onClick(){return setModal(false);}})})]}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-4 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Name: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",customerData===null||customerData===void 0?void 0:customerData.firstName,\" \",customerData===null||customerData===void 0?void 0:customerData.lastName]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-3 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Gender: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",(customerData===null||customerData===void 0?void 0:customerData.gender)===''?'-':(customerData===null||customerData===void 0?void 0:(_customerData$gender=customerData.gender)===null||_customerData$gender===void 0?void 0:_customerData$gender.charAt(0).toUpperCase())+(customerData===null||customerData===void 0?void 0:(_customerData$gender2=customerData.gender)===null||_customerData$gender2===void 0?void 0:_customerData$gender2.slice(1))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-2 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Age: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",'-']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-3 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Mobile: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",customerData===null||customerData===void 0?void 0:customerData.phoneNo]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-4 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Email: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",customerData===null||customerData===void 0?void 0:customerData.email]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-3 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Income: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",'-']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-2 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Country: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",customerData===null||customerData===void 0?void 0:customerData.country]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-3 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"City: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",customerData===null||customerData===void 0?void 0:customerData.city]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex col-12 col-lg-4 mb-1\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Address: \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\xA0 \",customerData===null||customerData===void 0?void 0:customerData.address1,\" \",customerData===null||customerData===void 0?void 0:customerData.address2]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(PerfectScrollbar,{className:\"\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(TablerChart,{title:\"Monthly Page views and Avg. Time Spend\",titleTextLeft:\"Time\",titleTextRight:\"Time Spend\",series:dateWiseSessionAndTime,categories:dateWiseSessionAndTime})})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(DateWiseProductPurchase,{title:\"Monthly Products Purchase By Value\"// titleTextLeft='Total Price'\n,titleTextLeft:\"\",titleTextRight:\"Total Purchase Value\",series:dateWiseProductPurchase,categories:dateWiseProductPurchase})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(CircleChart,{title:\"Abandoned Cart Value VS Purchase Value\",seriesName:\"\",seriesData:pieChartProductPurchase})})]})]})]})]}),/*#__PURE__*/_jsx(UserDetail,{})]})]});};export default Table;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/funnelmapping/Table.js"],"names":["React","useState","PerfectScrollbar","Redirect","Modal","ModalBody","ModalHeader","Row","Col","Badge","CardHeader","UserDetail","TablerChart","CircleChart","axios","FaUser","AiOutlineClose","DateWiseProductPurchase","Table","data","selectedCategory","style","marginTop","cursor","modal","setModal","dateWiseProductPurchase","setDateWiseProductPurchase","dateWiseSessionAndTime","setDateWiseSessionAndTime","customerData","setCustomerData","pieChartProductPurchase","setPieChartProductPurchase","userDetail","userEmail","orderId","brand_name","localStorage","getItem","userInfo","order_id","brand","fetch","method","headers","body","JSON","stringify","then","response","json","customerInfo","IsJsonString","str","parse","e","downloadHandle","post","type","request","window","location","href","url","tofuData","map","item","index","country_name","city_name","user_agent_device_brand","user_agent_device_model","user_agent_Os_family","mofuData","Country","City","source_medium","Device","charAt","toUpperCase","slice","device_model","OS","Sessions","bofuData","email","created_at","source","first_name","last_name","order_name","total_price","convertionsData","firstSource","gateway","financial_status","firstName","lastName","gender","phoneNo","country","city","address1","address2"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Modal, ModalBody, ModalHeader, Row, Col, Badge, CardHeader } from 'reactstrap'\r\nimport UserDetail from './UserDetail'\r\nimport TablerChart from './conversion/TablerChart'\r\nimport CircleChart from './conversion/CircleChart'\r\nimport axios from 'axios'\r\nimport { FaUser } from 'react-icons/fa'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport DateWiseProductPurchase from './conversion/DateWiseProductPurchase'\r\n\r\nconst Table = ({ data, selectedCategory }) => {\r\n\r\n    const style = {\r\n        marginTop: '-5px',\r\n        // marginRight: '-10px',\r\n        cursor: 'pointer'\r\n    }\r\n\r\n    const [modal, setModal] = useState(false)\r\n    const [dateWiseProductPurchase, setDateWiseProductPurchase] = useState([])\r\n    const [dateWiseSessionAndTime, setDateWiseSessionAndTime] = useState([])\r\n    const [customerData, setCustomerData] = useState({})\r\n    const [pieChartProductPurchase, setPieChartProductPurchase] = useState({})\r\n\r\n    const userDetail = (userEmail, orderId) => {\r\n        setModal(true)\r\n\r\n        const brand_name = localStorage.getItem('brand_name')\r\n\r\n        const userInfo = {\r\n            order_id: orderId,\r\n            brand: brand_name\r\n        }\r\n\r\n        fetch('https://srvr1px.cyberads.io/userCycle/', {      // ---- API for Conversion-User Details ----\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userInfo)\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setDateWiseProductPurchase(data.dateWiseProductPurchase)\r\n                setDateWiseSessionAndTime(data.dateWiseSessionAndTime)\r\n                setCustomerData(data.customerInfo)\r\n                setPieChartProductPurchase(data.pieChartProductPurchase)\r\n            })\r\n    }\r\n\r\n    function IsJsonString(str) {\r\n        try {\r\n            const json = JSON.parse(str)\r\n            return (typeof json === 'object')\r\n        } catch (e) {\r\n            return false\r\n        }\r\n    }\r\n    let brand\r\n    if (IsJsonString(localStorage.getItem(\"brand_name\"))) {\r\n        brand = JSON.parse(localStorage.getItem(\"brand_name\"))\r\n    } else {\r\n        brand = localStorage.getItem(\"brand_name\")\r\n    }\r\n\r\n    const downloadHandle = async () => {\r\n        const request = await axios.post(\"https://srvr1px.cyberads.io/getexcelData/\", { type: selectedCategory, brand })\r\n        const response = await request.data\r\n        window.location.href = response?.url\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='d-flex justify-content-end'>\r\n                <form className=\"form-inline my-lg-0\">\r\n                    <button className=\"mb-1 btn btn-primary\" onClick={downloadHandle}>Download</button>\r\n                </form>\r\n            </div>\r\n            {/* -- ToFu Start Here -- */}\r\n            <PerfectScrollbar className='hide1 d-none funneltable'>\r\n                <table className=\"table table-warning\">\r\n                    <thead className=\"thead rounded\">\r\n                        <tr className='bg-warning'>\r\n                            <th className='bg-warning text-black' scope=\"col\">Sr. No.</th>\r\n                            <th className='bg-warning text-black' scope=\"col\">Country</th>\r\n                            <th className='bg-warning text-black' scope=\"col\">City</th>\r\n                            <th className='bg-warning text-black' scope=\"col\">Device</th>\r\n                            <th className='bg-warning text-black' scope=\"col\">Model</th>\r\n                            <th className='bg-warning text-black' scope=\"col\">Os</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data?.tofuData && data?.tofuData.map((item, index) => {\r\n                            return (\r\n                                <>\r\n                                    <tr>\r\n                                        <th className='text-black'>{index + 1}</th>\r\n                                        <td className='text-black'>{item?.country_name}</td>\r\n                                        <td className='text-black'>{item?.city_name}</td>\r\n                                        <td className='text-black'>{item?.user_agent_device_brand}</td>\r\n                                        <td className='text-black'>{item?.user_agent_device_model}</td>\r\n                                        <td className='text-black'>{item?.user_agent_Os_family}</td>\r\n                                    </tr>\r\n                                </>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </PerfectScrollbar>\r\n            {/* -- ToFu End Here -- */}\r\n\r\n            {/* -- MoFu Start Here -- */}\r\n            <PerfectScrollbar className='hide2 d-none funneltable'>\r\n                <table className=\"table table-primary\">\r\n                    <thead className=\"thead rounded\">\r\n                        <tr className='bg-primary'>\r\n                            <th className='bg-primary text-white' scope=\"col\">Sr. No.</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">Country</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">City</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">Source Medium</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">Device</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">Model</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">Os</th>\r\n                            <th className='bg-primary text-white' scope=\"col\">Session</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data?.mofuData && data?.mofuData.map((item, index) => {\r\n                            return (\r\n                                <>\r\n                                    <tr>\r\n                                        <th className='text-black'>{index + 1}</th>\r\n                                        <td className='text-black'>{item?.Country}</td>\r\n                                        <td className='text-black'>{item?.City}</td>\r\n                                        <td className='text-black'>{item?.source_medium}</td>\r\n                                        <td className='text-black'>{item?.Device?.charAt(0).toUpperCase() + item?.Device?.slice(1)}</td>\r\n                                        <td className='text-black'>{item?.device_model}</td>\r\n                                        <td className='text-black'>{item?.OS}</td>\r\n                                        <td className='text-black'>{item?.Sessions}</td>\r\n                                    </tr>\r\n                                </>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </PerfectScrollbar>\r\n            {/* -- MoFu End Here -- */}\r\n\r\n            {/* -- BoFu Start Here -- */}\r\n            <PerfectScrollbar className='hide3 d-none funneltable'>\r\n                <table className=\"table table-secondary\">\r\n                    <thead className=\"thead rounded\">\r\n                        <tr className='bg-secondary'>\r\n                            <th className='bg-secondary text-white' scope=\"col\">Sr. No.</th>\r\n                            <th className='bg-secondary text-white' scope=\"col\">Email</th>\r\n                            <th className='bg-secondary text-white' scope=\"col\">created at</th>\r\n                            <th className='bg-secondary text-white' scope=\"col\">source</th>\r\n                            <th className='bg-secondary text-white' scope=\"col\">Full Name</th>\r\n                            <th className='bg-secondary text-white' scope=\"col\">order name</th>\r\n                            <th className='bg-secondary text-white' scope=\"col\">total price</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data?.bofuData && data?.bofuData.map((item, index) => {\r\n                            return (\r\n                                <>\r\n                                    <tr>\r\n                                        <th className='text-black'>{index + 1}</th>\r\n                                        <td className='text-black'>{item?.email}</td>\r\n                                        <td className='text-black text-nowrap'>{item?.created_at}</td>\r\n                                        <td className='text-black'>{item?.source === \"\" ? 'Organic' : item?.source?.charAt(0).toUpperCase() + item?.source?.slice(1)}</td>\r\n                                        <td className='text-black text-nowrap'>{item?.first_name} {item?.last_name}</td>\r\n                                        <td className='text-black'>{item?.order_name}</td>\r\n                                        <td className='text-black'>{item?.total_price}</td>\r\n                                    </tr>\r\n                                </>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </PerfectScrollbar>\r\n            {/* -- BoFu Start Here -- */}\r\n\r\n            {/* -- Conversion Start Here -- */}\r\n            <PerfectScrollbar className='hide4 d-none funneltable'>\r\n                <table className=\"table table-success\">\r\n                    <thead className=\"thead rounded\">\r\n                        <tr className='bg-success'>\r\n                            <th className='bg-success text-white' scope=\"col\">Sr. No.</th>\r\n                            <th className='bg-success text-white' scope=\"col\">Email</th>\r\n                            <th className='bg-success text-white' scope=\"col\">First Source</th>\r\n                            <th className='bg-success text-white' scope=\"col\">Finale Source</th>\r\n                            <th className='bg-success text-white' scope=\"col\">gateway</th>\r\n                            <th className='bg-success text-white' scope=\"col\">financial status</th>\r\n                            <th className='bg-success text-white' scope=\"col\">order name</th>\r\n                            <th className='bg-success text-white' scope=\"col\">total price</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {data?.convertionsData && data?.convertionsData.map((item, index) => {\r\n                            return (\r\n                                <>\r\n                                    <tr>\r\n                                        <th className='text-black'>{index + 1}</th>\r\n                                        <td className='text-black' onClick={() => userDetail(item?.email, item?.order_id)}><a><u>{item?.email}</u></a></td>\r\n                                        <td className='text-black'>{item?.firstSource === \"\" ? 'Organic' : item?.firstSource?.charAt(0).toUpperCase() + item?.firstSource?.slice(1)}</td>\r\n                                        <td className='text-black'>{item?.source === \"\" ? 'Organic' : item?.source?.charAt(0).toUpperCase() + item?.source?.slice(1)}</td>\r\n                                        <td className='text-black'>{item?.gateway?.charAt(0).toUpperCase() + item?.gateway?.slice(1)}</td>\r\n                                        <td className='text-black'>{item?.financial_status?.charAt(0).toUpperCase() + item?.financial_status?.slice(1)}</td>\r\n                                        <td className='text-black'>{item?.order_name}</td>\r\n                                        <td className='text-black'>{item?.total_price}</td>\r\n                                    </tr>\r\n                                </>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n\r\n                <Modal size='xl' isOpen={modal} toggle={() => setModal(!modal)} >\r\n                    <CardHeader className='d-flex justify-content-between align-items-top'>\r\n                        <div>\r\n                            <FaUser size={20} />{' '}\r\n                            <span className='fw-bold'>User Details</span>\r\n                        </div>\r\n                        <div className=''>\r\n                            <AiOutlineClose size={20} style={style} className='rounded' onClick={() => setModal(false)} />\r\n                        </div>\r\n                    </CardHeader>\r\n                    <ModalBody>\r\n                        <div className='d-flex row'>\r\n                            <div className='d-flex col-12 col-lg-4 mb-1'> <span className='fw-bold'>Name: </span><span>&nbsp; {customerData?.firstName} {customerData?.lastName}</span></div>\r\n                            <div className='d-flex col-12 col-lg-3 mb-1'> <span className='fw-bold'>Gender: </span><span>&nbsp; {customerData?.gender === '' ? '-' : customerData?.gender?.charAt(0).toUpperCase() + customerData?.gender?.slice(1)}</span></div>\r\n                            <div className='d-flex col-12 col-lg-2 mb-1'> <span className='fw-bold'>Age: </span><span>&nbsp; {'-'}</span></div>\r\n                            <div className='d-flex col-12 col-lg-3 mb-1'> <span className='fw-bold'>Mobile: </span><span>&nbsp; {customerData?.phoneNo}</span></div>\r\n                            <div className='d-flex col-12 col-lg-4 mb-1'> <span className='fw-bold'>Email: </span><span>&nbsp; {customerData?.email}</span></div>\r\n                            <div className='d-flex col-12 col-lg-3 mb-1'> <span className='fw-bold'>Income: </span><span>&nbsp; {'-'}</span></div>\r\n                            <div className='d-flex col-12 col-lg-2 mb-1'> <span className='fw-bold'>Country: </span><span>&nbsp; {customerData?.country}</span></div>\r\n                            <div className='d-flex col-12 col-lg-3 mb-1'> <span className='fw-bold'>City: </span><span>&nbsp; {customerData?.city}</span></div>\r\n                            <div className='d-flex col-12 col-lg-4 mb-1'> <span className='fw-bold'>Address: </span><span>&nbsp; {customerData?.address1} {customerData?.address2}</span></div>\r\n                            {/* <div className='d-flex col-12 col-lg-3 mb-1'> <span className='fw-bold'>Interest: </span><span>&nbsp; 0</span></div> */}\r\n                        </div>\r\n                        <hr />\r\n                        <PerfectScrollbar className=''>\r\n                            <Row>\r\n                                <Col>\r\n                                    <TablerChart\r\n                                        title='Monthly Page views and Avg. Time Spend'\r\n                                        titleTextLeft='Time'\r\n                                        titleTextRight='Time Spend'\r\n                                        series={dateWiseSessionAndTime}\r\n                                        categories={dateWiseSessionAndTime}\r\n                                    />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>\r\n                                    <DateWiseProductPurchase\r\n                                        title='Monthly Products Purchase By Value'\r\n                                        // titleTextLeft='Total Price'\r\n                                        titleTextLeft=''\r\n                                        titleTextRight='Total Purchase Value'\r\n                                        series={dateWiseProductPurchase}\r\n                                        categories={dateWiseProductPurchase}\r\n                                    />\r\n                                </Col>\r\n                                <Col>\r\n                                    <CircleChart\r\n                                        title='Abandoned Cart Value VS Purchase Value'\r\n                                        seriesName=''\r\n                                        seriesData={pieChartProductPurchase}\r\n                                    />\r\n                                </Col>\r\n                            </Row>\r\n                        </PerfectScrollbar>\r\n                    </ModalBody>\r\n                </Modal>\r\n\r\n                <UserDetail />\r\n\r\n            </PerfectScrollbar>\r\n            {/* -- Conversion End Here -- */}\r\n        </>\r\n    )\r\n}\r\nexport default Table"]},"metadata":{},"sourceType":"module"}