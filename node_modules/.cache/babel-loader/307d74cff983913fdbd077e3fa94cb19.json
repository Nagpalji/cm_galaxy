{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,Fragment}from'react';import{isUserLoggedIn}from'@utils';import Avatar from'@components/avatar';import{useSkin}from'@hooks/useSkin';import{Link,Redirect,useHistory}from'react-router-dom';// Logo component start\nimport signin from'@src/assets/images/avatars/logo.png';import{ChevronLeft,Coffee}from'react-feather';import{toast,Slide}from'react-toastify';// Logo component End\nimport{Row,Col,CardTitle,CardText,Form,FormGroup,CardImg,Label,Input,Button}from'reactstrap';import'@styles/base/pages/page-auth.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPassword=function ForgotPassword(){var history=useHistory();var ToastContent=function ToastContent(_ref){var name=_ref.name,role=_ref.role;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"toastify-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"title-wrapper\",children:[/*#__PURE__*/_jsx(Avatar,{size:\"sm\",color:\"success\",icon:/*#__PURE__*/_jsx(Coffee,{size:12})}),/*#__PURE__*/_jsx(\"h6\",{className:\"toast-title font-weight-bold\",children:\"Reset Password\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"toastify-body\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Password is reset.\"})})]});};var _useSkin=useSkin(),_useSkin2=_slicedToArray(_useSkin,2),skin=_useSkin2[0],setSkin=_useSkin2[1];var illustration=skin==='dark'?'forgot-password-v2-dark.svg':'forgot-password-v2.svg',source=require(\"@src/assets/images/pages/\".concat(illustration)).default;function handleSubmitCustom(e){e.preventDefault();var queryParams=new URLSearchParams(window.location.search);var username=queryParams.get('user_name');var time=queryParams.get('time');var date=queryParams.get('date');var fet='https://srvr1px.cyberads.io/reset_password/?user_name=';//const username = 'abc@demo.com'\nvar password=document.getElementById('password').value;var confirm_password=document.getElementById('confirm_password').value;var p=\"&password=\";var confirm_p=\"&confirm_password=\";var time_value=\"&time=\";var date_value=\"&date=\";fetch(fet+username+p+password+confirm_p+confirm_password+time_value+time+date_value+date,{method:'GET'}).then(function(res){return res.json();}).then(function(result){console.log(JSON.stringify(result));//alert(JSON.stringify(result))\nif(result.status===200){//alert(\"Recovery link is send on email.\")\ntoast.success(/*#__PURE__*/_jsx(ToastContent,{username:username}),{transition:Slide,hideProgressBar:true,autoClose:5000});history.push(\"/login\");}else{alert(\"Something is wrong.\");}},function(error){//setError({ error })\n});}if(!isUserLoggedIn()){return/*#__PURE__*/_jsx(\"div\",{className:\"auth-wrapper auth-v2\",children:/*#__PURE__*/_jsxs(Row,{className:\"auth-inner m-0\",children:[/*#__PURE__*/_jsx(Link,{className:\"brand-logo\",to:\"/\",onClick:function onClick(e){return e.preventDefault();},children:/*#__PURE__*/_jsx(CardImg,{top:true,src:signin,className:\"SignLogo\",alt:\"card1\"})}),/*#__PURE__*/_jsx(Col,{className:\"d-none d-lg-flex align-items-center p-5\",lg:\"8\",sm:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 d-lg-flex align-items-center justify-content-center px-5\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:source,alt:\"Login V2\"})})}),/*#__PURE__*/_jsx(Col,{className:\"d-flex align-items-center auth-bg px-2 p-lg-5\",lg:\"4\",sm:\"12\",children:/*#__PURE__*/_jsxs(Col,{className:\"px-xl-2 mx-auto\",sm:\"8\",md:\"6\",lg:\"12\",children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h2\",className:\"font-weight-bold mb-1\",children:\"Reset Password?\"}),/*#__PURE__*/_jsxs(Form,{className:\"auth-forgot-password-form mt-2\",onSubmit:handleSubmitCustom,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"login-email\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"password\",autoFocus:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",for:\"login-email\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",id:\"confirm_password\"})]}),/*#__PURE__*/_jsx(Button.Ripple,{color:\"primary\",block:true,type:\"submit\",children:\"SUBMIT\"})]})]})})]})});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}};export default ForgotPassword;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/pages/authentication/ResetPassword.js"],"names":["useState","useContext","Fragment","isUserLoggedIn","Avatar","useSkin","Link","Redirect","useHistory","signin","ChevronLeft","Coffee","toast","Slide","Row","Col","CardTitle","CardText","Form","FormGroup","CardImg","Label","Input","Button","ForgotPassword","history","ToastContent","name","role","skin","setSkin","illustration","source","require","default","handleSubmitCustom","e","preventDefault","queryParams","URLSearchParams","window","location","search","username","get","time","date","fet","password","document","getElementById","value","confirm_password","p","confirm_p","time_value","date_value","fetch","method","then","res","json","result","console","log","JSON","stringify","status","success","transition","hideProgressBar","autoClose","push","alert","error"],"mappings":"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","sourcesContent":["import { useState, useContext, Fragment } from 'react'\r\nimport { isUserLoggedIn } from '@utils'\r\nimport Avatar from '@components/avatar'\r\nimport { useSkin } from '@hooks/useSkin'\r\nimport { Link, Redirect, useHistory } from 'react-router-dom'\r\n// Logo component start\r\nimport signin from '@src/assets/images/avatars/logo.png'\r\nimport { ChevronLeft, Coffee } from 'react-feather'\r\nimport { toast, Slide } from 'react-toastify'\r\n// Logo component End\r\nimport { Row, Col, CardTitle, CardText, Form, FormGroup, CardImg, Label, Input, Button } from 'reactstrap'\r\nimport '@styles/base/pages/page-auth.scss'\r\n\r\nconst ForgotPassword = () => {\r\n  const history = useHistory()\r\n  const ToastContent = ({ name, role }) => (\r\n    <Fragment>\r\n      <div className='toastify-header'>\r\n        <div className='title-wrapper'>\r\n          <Avatar size='sm' color='success' icon={<Coffee size={12} />} />\r\n          <h6 className='toast-title font-weight-bold'>Reset Password</h6>\r\n        </div>\r\n      </div>\r\n      <div className='toastify-body'>\r\n        <span>Password is reset.</span>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n  const [skin, setSkin] = useSkin()\r\n\r\n  const illustration = skin === 'dark' ? 'forgot-password-v2-dark.svg' : 'forgot-password-v2.svg',\r\n  \r\n    source = require(`@src/assets/images/pages/${illustration}`).default\r\n    function handleSubmitCustom(e) {\r\n      e.preventDefault()\r\n    const queryParams = new URLSearchParams(window.location.search)\r\n    const username = queryParams.get('user_name')\r\n    const time = queryParams.get('time')\r\n    const date = queryParams.get('date')\r\n    const fet = 'https://srvr1px.cyberads.io/reset_password/?user_name='\r\n    //const username = 'abc@demo.com'\r\n    const password = document.getElementById('password').value\r\n    const confirm_password = document.getElementById('confirm_password').value\r\n    const p = \"&password=\"\r\n    const confirm_p = \"&confirm_password=\"\r\n    const time_value = \"&time=\"\r\n    const date_value = \"&date=\"\r\n\r\n      fetch(fet + username + p + password + confirm_p + confirm_password + time_value + time + date_value + date,\r\n      {\r\n        method: 'GET'\r\n  \r\n      }).then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          console.log(JSON.stringify(result))  \r\n          //alert(JSON.stringify(result))\r\n          if (result.status === 200) { \r\n             //alert(\"Recovery link is send on email.\")\r\n             toast.success(\r\n              <ToastContent username={username} />,\r\n              \r\n              { transition: Slide, hideProgressBar: true, autoClose: 5000 }\r\n            )\r\n            history.push(\"/login\")  \r\n            } else { \r\n              alert(\"Something is wrong.\") \r\n        }\r\n           \r\n        },\r\n          (error) => {\r\n            //setError({ error })\r\n          }\r\n        )\r\n      \r\n  }\r\n  if (!isUserLoggedIn()) {\r\n    return (\r\n      <div className='auth-wrapper auth-v2'>\r\n        <Row className='auth-inner m-0'>\r\n          <Link className='brand-logo' to='/' onClick={e => e.preventDefault()}>\r\n          <CardImg top src={signin} className='SignLogo'  alt='card1' />\r\n            {/* <h2 className='brand-text text-primary ml-1'>Vuexy</h2> */}\r\n          </Link>\r\n          <Col className='d-none d-lg-flex align-items-center p-5' lg='8' sm='12'>\r\n            <div className='w-100 d-lg-flex align-items-center justify-content-center px-5'>\r\n              <img className='img-fluid' src={source} alt='Login V2' />\r\n            </div>\r\n          </Col>\r\n          <Col className='d-flex align-items-center auth-bg px-2 p-lg-5' lg='4' sm='12'>\r\n            <Col className='px-xl-2 mx-auto' sm='8' md='6' lg='12'>\r\n              <CardTitle tag='h2' className='font-weight-bold mb-1'>\r\n                Reset Password?\r\n              </CardTitle>\r\n        \r\n              <Form className='auth-forgot-password-form mt-2' onSubmit={handleSubmitCustom}>\r\n                <FormGroup>\r\n                  <Label className='form-label' for='login-email'>\r\n                    Password\r\n                  </Label>\r\n                  <Input type='password' id='password'  autoFocus />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label className='form-label' for='login-email'>\r\n                   Confirm Password\r\n                  </Label>\r\n                  <Input type='password' id='confirm_password'  />\r\n                </FormGroup>\r\n                <Button.Ripple color='primary' block type=\"submit\">\r\n                  SUBMIT\r\n                </Button.Ripple>\r\n              </Form>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <Redirect to='/' />\r\n  }\r\n}\r\n\r\nexport default ForgotPassword\r\n"]},"metadata":{},"sourceType":"module"}