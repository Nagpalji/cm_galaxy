{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ** React Imports\nimport{Fragment,useState,useEffect,memo}from'react';import DropDown from'./DropDown';// ** Table Columns\nimport{serverSideColumns}from'./data';// import pdf from '../files/myfile.pdf'\n// ** Store & Actions\nimport{getData}from'./actions';import{useSelector,useDispatch}from'react-redux';// ** Third Party Components\nimport ReactPaginate from'react-paginate';import{ChevronDown,Download}from'react-feather';import DataTable from'react-data-table-component';import{Card,CardHeader,CardTitle,CardText,Input,Label,Row,Col,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownItem,DropdownToggle,Spinner}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DataTopCampaigns=function DataTopCampaigns(){// ** Store Vars\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.dataTables;});// ** States\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(7),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchValue=_useState6[0],setSearchValue=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),pages=_useState8[0],setPages=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),cur=_useState10[0],setCur=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),allData=_useState12[0],setAllData=_useState12[1];// const [store, setStore] = useState([])\nvar brand_name=localStorage.getItem(\"brand_name\");var userName=localStorage.getItem(\"user_name\");var fett='https://srvr1px.cyberads.io/adword_impression/?brand_name=';var fet=fett+brand_name;var lead_download_apit='https://srvr1px.cyberads.io/adword_cpl/?brand_name=';var lead_download_api=lead_download_apit+brand_name;var sy=localStorage.getItem(\"sy\");var sm=localStorage.getItem(\"sm\");var sd=localStorage.getItem(\"sd\");var ey=localStorage.getItem(\"ey\");var em=localStorage.getItem(\"em\");var ed=localStorage.getItem(\"ed\");var sy1=\"&sy=\";var sm1=\"&sm=\";var sd1=\"&sd=\";var ey1=\"&ey=\";var em1=\"&em=\";var ed1=\"&ed=\";var op=\"&leadsource=\";var val=sessionStorage.getItem('leadsource');var cam='&cam=';var val21=JSON.stringify([{value:\"gems-bschool-mba/smart\",label:\"gems-bschool-mba/smart\"}]);var val22=sessionStorage.getItem('leadcampaign');var val2=userName===\"gemssmart@gmail.com\"?val21:val22;// const val2 = sessionStorage.getItem('leadcampaign')\nif(ey==='NaN'){ey=sy;}if(em==='NaN'){em=sm;}if(ed==='NaN'){ed=sd;}var page=\"&page=\";var x=1;useState(function(){fetch(fet+sy1+sy+sm1+sm+sd1+sd+ey1+ey+em1+em+ed1+ed+page+x+op+val+cam+val2,{// fetch('https://srvr1px.cyberads.io/adword_clicks/?brand_name=gems&startdate=,${startdate},&enddate=${enddate}', {\nmethod:'GET'}).then(function(res){return res.json();}).then(function(result){setAllData(result);result.map(function(res){setPages(res.total_pages);});},function(error){});});// ** Get data on mount\nuseEffect(function(){dispatch(getData({page:currentPage,perPage:rowsPerPage,q:searchValue}));},[dispatch]);// ** Function to handle filter\nvar handleFilter=function handleFilter(e){setSearchValue(e.target.value);dispatch(getData({page:currentPage,perPage:rowsPerPage,q:e.target.value}));};// ** Function to handle Pagination and get data\nvar handlePagination=function handlePagination(page){var s=JSON.stringify(page).split(':');var sel=s[1].split('}');var sel_val=parseInt(sel[0])+1;var page1=\"&page=\";fetch(fet+sy1+sy+sm1+sm+sd1+sd+ey1+ey+em1+em+ed1+ed+page1+sel_val+op+val+cam+val2,{method:'GET'}).then(function(res){return res.json();}).then(function(result){// setStore(result)\nsetAllData(result);result.map(function(res){setPages(res.total_pages);});},function(error){});setCurrentPage(page.selected+1);};// ** Custom Pagination\nvar CustomPagination=function CustomPagination(){//const count = Number((pages / rowsPerPage).toFixed(0))\nvar count=pages;return/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:'',nextLabel:'',breakLabel:\"...\",pageCount:count||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:\"active\",forcePage:currentPage!==0?currentPage-1:0,onPageChange:function onPageChange(page){return handlePagination(page);},pageClassName:'page-item',nextLinkClassName:'page-link',nextClassName:'page-item next',previousClassName:'page-item prev',previousLinkClassName:'page-link',pageLinkClassName:'page-link',breakClassName:\"page-item\",breakLinkClassName:\"page-link\",containerClassName:'pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-2'});};// ** Table data to render\nvar dataToRender=function dataToRender(){var filters={q:searchValue};var isFiltered=Object.keys(filters).some(function(k){return filters[k].length>0;});if(store.length>0){return store;}else if(store.length===0&&isFiltered){return[];}else{return allData.slice(0,rowsPerPage);}};var leads=lead_download_api+sy1+sy+sm1+sm+sd1+sd+ey1+ey+em1+em+ed1+ed+op+val+cam+val2;if(allData.length===0){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Row,{className:\"match-height\",children:[/*#__PURE__*/_jsx(Col,{lg:\"10\",md:\"12\",children:/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Loading Data\"})})}),/*#__PURE__*/_jsxs(Col,{lg:\"2\",md:\"12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"demo-inline-spacing justify-content-between loader_mobileal\",style:{marginLeft:30},children:/*#__PURE__*/_jsx(Spinner,{color:\"primary\"})}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"430px\",visibility:'hidden'}})]})]})});}else if(allData===0){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Row,{className:\"match-height\",children:[/*#__PURE__*/_jsx(Col,{lg:\"10\",md:\"12\",children:/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Data Not Found!\"})})}),/*#__PURE__*/_jsx(Col,{lg:\"2\",md:\"12\",children:/*#__PURE__*/_jsx(\"div\",{style:{height:\"430px\",visibility:'hidden'}})})]})});}else{return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mx-0 mt-1 mb-0\",children:[/*#__PURE__*/_jsx(Col,{sm:\"3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center mt-3 mb-1\",children:/*#__PURE__*/_jsxs(Button.Ripple,{color:\"primary\",children:[/*#__PURE__*/_jsx(Download,{size:14}),/*#__PURE__*/_jsx(\"a\",{href:leads,style:{color:'#FFF'},download:true,children:\" Download Excel\"})]})})}),/*#__PURE__*/_jsx(Col,{sm:\"7\",className:\"align-items-center justify-content-sm-end mt-0 mb-0\",children:/*#__PURE__*/_jsx(DropDown,{})}),/*#__PURE__*/_jsx(Col,{xl:\"2\",lg:\"2\",className:\"mt-3 m_responlead\",xl1:\"2\",lg1:\"2\",children:/*#__PURE__*/_jsx(Button.Ripple,{onClick:function onClick(){return window.location.reload(false);},className:\"pull-right\",color:\"primary\",children:\"Get Data\"})})]}),/*#__PURE__*/_jsx(DataTable,{noHeader:true,pagination:true,paginationServer:true,className:\"react-dataTable\",columns:serverSideColumns,sortIcon:/*#__PURE__*/_jsx(ChevronDown,{size:10}),paginationComponent:CustomPagination,data:dataToRender()})]})});}};export default/*#__PURE__*/memo(DataTopCampaigns);","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/lead-management/lead/LeadManagement.js"],"names":["Fragment","useState","useEffect","memo","DropDown","serverSideColumns","getData","useSelector","useDispatch","ReactPaginate","ChevronDown","Download","DataTable","Card","CardHeader","CardTitle","CardText","Input","Label","Row","Col","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownItem","DropdownToggle","Spinner","DataTopCampaigns","dispatch","store","state","dataTables","currentPage","setCurrentPage","rowsPerPage","setRowsPerPage","searchValue","setSearchValue","pages","setPages","cur","setCur","allData","setAllData","brand_name","localStorage","getItem","userName","fett","fet","lead_download_apit","lead_download_api","sy","sm","sd","ey","em","ed","sy1","sm1","sd1","ey1","em1","ed1","op","val","sessionStorage","cam","val21","JSON","stringify","value","label","val22","val2","page","x","fetch","method","then","res","json","result","map","total_pages","error","perPage","q","handleFilter","e","target","handlePagination","s","split","sel","sel_val","parseInt","page1","selected","CustomPagination","count","dataToRender","filters","isFiltered","Object","keys","some","k","length","slice","leads","marginLeft","height","visibility","color","window","location","reload"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState, useEffect, memo } from 'react'\r\nimport DropDown from './DropDown'\r\n// ** Table Columns\r\nimport { serverSideColumns } from './data'\r\n// import pdf from '../files/myfile.pdf'\r\n\r\n// ** Store & Actions\r\nimport { getData } from './actions'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\n// ** Third Party Components\r\nimport ReactPaginate from 'react-paginate'\r\nimport { ChevronDown, Download } from 'react-feather'\r\nimport DataTable from 'react-data-table-component'\r\nimport { Card, CardHeader, CardTitle, CardText, Input, Label, Row, Col, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownItem, DropdownToggle, Spinner } from 'reactstrap'\r\n\r\nconst DataTopCampaigns = () => {\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.dataTables)\r\n\r\n  // ** States\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [rowsPerPage, setRowsPerPage] = useState(7)\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [pages, setPages] = useState('')\r\n  const [cur, setCur] = useState('')\r\n  const [allData, setAllData] = useState([])\r\n  // const [store, setStore] = useState([])\r\n  const brand_name = localStorage.getItem(\"brand_name\")\r\n  const userName = localStorage.getItem(\"user_name\")\r\n  const fett = 'https://srvr1px.cyberads.io/adword_impression/?brand_name='\r\n  const fet = fett + brand_name\r\n  const lead_download_apit = 'https://srvr1px.cyberads.io/adword_cpl/?brand_name='\r\n  const lead_download_api = lead_download_apit + brand_name\r\n  const sy = localStorage.getItem(\"sy\")\r\n  const sm = localStorage.getItem(\"sm\")\r\n  const sd = localStorage.getItem(\"sd\")\r\n  let ey = localStorage.getItem(\"ey\")\r\n  let em = localStorage.getItem(\"em\")\r\n  let ed = localStorage.getItem(\"ed\")\r\n  const sy1 = \"&sy=\"\r\n  const sm1 = \"&sm=\"\r\n  const sd1 = \"&sd=\"\r\n  const ey1 = \"&ey=\"\r\n  const em1 = \"&em=\"\r\n  const ed1 = \"&ed=\"\r\n  const op = \"&leadsource=\"\r\n  const val = sessionStorage.getItem('leadsource')\r\n\r\n  const cam = '&cam='\r\n  const val21 = JSON.stringify([{value:\"gems-bschool-mba/smart\", label:\"gems-bschool-mba/smart\"}])\r\n  const val22 = sessionStorage.getItem('leadcampaign')\r\n\r\n  const val2 = userName === \"gemssmart@gmail.com\" ? val21 : val22\r\n  // const val2 = sessionStorage.getItem('leadcampaign')\r\n\r\n\r\n  if (ey === 'NaN') {\r\n    ey = sy\r\n  }\r\n  if (em === 'NaN') {\r\n    em = sm\r\n  }\r\n  if (ed === 'NaN') {\r\n    ed = sd\r\n  }\r\n  const page = \"&page=\"\r\n  const x = 1\r\n  useState(() => {\r\n\r\n    fetch(fet + sy1 + sy + sm1 + sm + sd1 + sd + ey1 + ey + em1 + em + ed1 + ed + page + x + op + val + cam + val2,\r\n      {\r\n\r\n        // fetch('https://srvr1px.cyberads.io/adword_clicks/?brand_name=gems&startdate=,${startdate},&enddate=${enddate}', {\r\n        method: 'GET'\r\n      })\r\n      .then(res => res.json())\r\n      .then((result) => {\r\n\r\n        setAllData(result)\r\n        result.map(res => {\r\n          setPages(res.total_pages)\r\n\r\n        })\r\n\r\n      },\r\n        (error) => {\r\n\r\n        }\r\n      )\r\n  })\r\n\r\n  // ** Get data on mount\r\n  useEffect(() => {\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        q: searchValue\r\n      })\r\n    )\r\n  }, [dispatch])\r\n\r\n\r\n  // ** Function to handle filter\r\n  const handleFilter = e => {\r\n    setSearchValue(e.target.value)\r\n\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        q: e.target.value\r\n      })\r\n    )\r\n  }\r\n\r\n  // ** Function to handle Pagination and get data\r\n  const handlePagination = page => {\r\n    const s = JSON.stringify(page).split(':')\r\n    const sel = s[1].split('}')\r\n    const sel_val = parseInt(sel[0]) + 1\r\n    const page1 = \"&page=\"\r\n    fetch(fet + sy1 + sy + sm1 + sm + sd1 + sd + ey1 + ey + em1 + em + ed1 + ed + page1 + sel_val + op + val + cam + val2,\r\n      {\r\n\r\n        method: 'GET'\r\n      })\r\n      .then(res => res.json())\r\n      .then((result) => {\r\n        // setStore(result)\r\n\r\n        setAllData(result)\r\n        result.map(res => {\r\n          setPages(res.total_pages)\r\n\r\n        })\r\n\r\n      },\r\n        (error) => {\r\n\r\n        }\r\n      )\r\n\r\n\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  // ** Custom Pagination\r\n  const CustomPagination = () => {\r\n\r\n    //const count = Number((pages / rowsPerPage).toFixed(0))\r\n    const count = pages\r\n\r\n    return (\r\n      <ReactPaginate\r\n        previousLabel={''}\r\n        nextLabel={''}\r\n        breakLabel='...'\r\n        pageCount={count || 1}\r\n        marginPagesDisplayed={2}\r\n        pageRangeDisplayed={2}\r\n        activeClassName='active'\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={page => handlePagination(page)}\r\n        pageClassName={'page-item'}\r\n        nextLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousClassName={'page-item prev'}\r\n        previousLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        breakClassName='page-item'\r\n        breakLinkClassName='page-link'\r\n        containerClassName={\r\n          'pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-2'\r\n        }\r\n      />\r\n    )\r\n  }\r\n\r\n  // ** Table data to render\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      q: searchValue\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.length > 0) {\r\n      return store\r\n    } else if (store.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  const leads = lead_download_api + sy1 + sy + sm1 + sm + sd1 + sd + ey1 + ey + em1 + em + ed1 + ed + op + val + cam + val2\r\n  if (allData.length === 0) {\r\n    return (\r\n\r\n      <Card>\r\n        <Row className='match-height'>\r\n          <Col lg='10' md='12'>\r\n            <CardHeader>\r\n              <CardTitle tag='h4'>Loading Data</CardTitle>\r\n            </CardHeader>\r\n          </Col>\r\n\r\n          <Col lg='2' md='12'>\r\n            <div className='demo-inline-spacing justify-content-between loader_mobileal' style={{ marginLeft: 30 }}>\r\n              <Spinner color='primary' />\r\n            </div>\r\n            {/* <PieChart containerProps={{ style: { height: \"430px\" } }} highcharts={Highcharts}  /> */}\r\n            <div style={{ height: \"430px\", visibility: 'hidden' }} ></div>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    )\r\n  } else if (allData === 0) {\r\n    return (\r\n\r\n      <Card>\r\n        <Row className='match-height'>\r\n          <Col lg='10' md='12'>\r\n            <CardHeader>\r\n              <CardTitle tag='h4'>Data Not Found!</CardTitle>\r\n            </CardHeader>\r\n          </Col>\r\n\r\n          <Col lg='2' md='12'>\r\n            {/* <div className='demo-inline-spacing justify-content-between loader_mobileal' style={{ marginLeft: 30 }}>\r\n              <Spinner color='primary' />\r\n            </div> */}\r\n            {/* <PieChart containerProps={{ style: { height: \"430px\" } }} highcharts={Highcharts}  /> */}\r\n            <div style={{ height: \"430px\", visibility: 'hidden' }} ></div>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    )\r\n  } else {\r\n    return (\r\n      <Fragment>\r\n        <Card>\r\n\r\n          <Row className='mx-0 mt-1 mb-0'>\r\n            <Col sm='3'>\r\n              <div className='d-flex align-items-center mt-3 mb-1'>\r\n                <Button.Ripple color='primary'>\r\n                  <Download size={14} />\r\n                  <a href={leads} style={{ color: '#FFF' }} download > Download Excel</a>\r\n                  {/* <span className='align-middle ml-25'  >Download Excel</span> */}\r\n                </Button.Ripple>\r\n              </div>\r\n            </Col>\r\n            <Col sm='7' className='align-items-center justify-content-sm-end mt-0 mb-0'>\r\n              <DropDown />\r\n            </Col>\r\n\r\n            <Col xl='2' lg='2' className='mt-3 m_responlead' xl1='2' lg1='2'>\r\n              <Button.Ripple onClick={() => window.location.reload(false)} className='pull-right' color='primary'>Get Data</Button.Ripple>\r\n            </Col>\r\n          </Row>\r\n\r\n\r\n          <DataTable\r\n            noHeader\r\n            pagination\r\n            paginationServer\r\n            className='react-dataTable'\r\n            columns={serverSideColumns}\r\n            sortIcon={<ChevronDown size={10} />}\r\n            paginationComponent={CustomPagination}\r\n            data={dataToRender()}\r\n          />\r\n        </Card>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default memo(DataTopCampaigns)"]},"metadata":{},"sourceType":"module"}