{"ast":null,"code":"import _toConsumableArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _excluded=[\"data\"],_excluded2=[\"data\"];// ** React Imports\nimport{Fragment,useState}from'react';// ** Custom Components\nimport Avatar from'@components/avatar';// ** Third Party Components\nimport classnames from'classnames';import{toast}from'react-toastify';import Flatpickr from'react-flatpickr';import{X,Check,Trash}from'react-feather';import Select,{components}from'react-select';import{useForm,Controller}from'react-hook-form';import{Button,Modal,ModalHeader,ModalBody,FormGroup,Label,CustomInput,Input,Form}from'reactstrap';// ** Utils\nimport{selectThemeColors,isObjEmpty}from'@utils';// ** Avatar Images\nimport img1 from'@src/assets/images/avatars/1-small.png';import img2 from'@src/assets/images/avatars/3-small.png';import img3 from'@src/assets/images/avatars/5-small.png';import img4 from'@src/assets/images/avatars/7-small.png';import img5 from'@src/assets/images/avatars/9-small.png';import img6 from'@src/assets/images/avatars/11-small.png';// ** Styles Imports\nimport'@styles/react/libs/react-select/_react-select.scss';import'@styles/react/libs/flatpickr/flatpickr.scss';// ** Toast Component\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ToastComponent=function ToastComponent(_ref){var title=_ref.title,icon=_ref.icon,color=_ref.color;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"toastify-header pb-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"title-wrapper\",children:[/*#__PURE__*/_jsx(Avatar,{size:\"sm\",color:color,icon:icon}),/*#__PURE__*/_jsx(\"h6\",{className:\"toast-title\",children:title})]})})});};var AddEventSidebar=function AddEventSidebar(props){// ** Props\nvar store=props.store,dispatch=props.dispatch,open=props.open,handleAddEventSidebar=props.handleAddEventSidebar,calendarsColor=props.calendarsColor,calendarApi=props.calendarApi,refetchEvents=props.refetchEvents,addEvent=props.addEvent,selectEvent=props.selectEvent,updateEvent=props.updateEvent,removeEvent=props.removeEvent;// ** Vars\nvar selectedEvent=store.selectedEvent;var _useForm=useForm(),register=_useForm.register,errors=_useForm.errors,handleSubmit=_useForm.handleSubmit;// ** States\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),desc=_useState4[0],setDesc=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),guests=_useState8[0],setGuests=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),allDay=_useState10[0],setAllDay=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),location=_useState12[0],setLocation=_useState12[1];var _useState13=useState(new Date()),_useState14=_slicedToArray(_useState13,2),endPicker=_useState14[0],setEndPicker=_useState14[1];var _useState15=useState(new Date()),_useState16=_slicedToArray(_useState15,2),startPicker=_useState16[0],setStartPicker=_useState16[1];var _useState17=useState([{value:'Business',label:'Business',color:'primary'}]),_useState18=_slicedToArray(_useState17,2),value=_useState18[0],setValue=_useState18[1];// ** Select Options\nvar options=[{value:'Business',label:'Business',color:'primary'},{value:'Personal',label:'Personal',color:'danger'},{value:'Family',label:'Family',color:'warning'},{value:'Holiday',label:'Holiday',color:'success'},{value:'ETC',label:'ETC',color:'info'}];var guestsOptions=[{value:'Donna Frank',label:'Donna Frank',avatar:img1},{value:'Jane Foster',label:'Jane Foster',avatar:img2},{value:'Gabrielle Robertson',label:'Gabrielle Robertson',avatar:img3},{value:'Lori Spears',label:'Lori Spears',avatar:img4},{value:'Sandy Vega',label:'Sandy Vega',avatar:img5},{value:'Cheryl May',label:'Cheryl May',avatar:img6}];// ** Custom select components\nvar OptionComponent=function OptionComponent(_ref2){var data=_ref2.data,props=_objectWithoutProperties(_ref2,_excluded);return/*#__PURE__*/_jsxs(components.Option,_objectSpread(_objectSpread({},props),{},{children:[/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-\".concat(data.color,\" bullet-sm mr-50\")}),data.label]}));};var GuestsComponent=function GuestsComponent(_ref3){var data=_ref3.data,props=_objectWithoutProperties(_ref3,_excluded2);return/*#__PURE__*/_jsx(components.Option,_objectSpread(_objectSpread({},props),{},{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap align-items-center\",children:[/*#__PURE__*/_jsx(Avatar,{className:\"my-0 mr-1\",size:\"sm\",img:data.avatar}),/*#__PURE__*/_jsx(\"div\",{children:data.label})]})}));};// ** Adds New Event\nvar handleAddEvent=function handleAddEvent(){var obj={title:title,start:startPicker,end:endPicker,allDay:allDay,display:'block',extendedProps:{calendar:value[0].label,url:url.length?url:undefined,guests:guests.length?guests:undefined,location:location.length?location:undefined,desc:desc.length?desc:undefined}};dispatch(addEvent(obj));refetchEvents();handleAddEventSidebar();toast.success(/*#__PURE__*/_jsx(ToastComponent,{title:\"Event Added\",color:\"success\",icon:/*#__PURE__*/_jsx(Check,{})}),{autoClose:2000,hideProgressBar:true,closeButton:false});};// ** Reset Input Values on Close\nvar handleResetInputValues=function handleResetInputValues(){dispatch(selectEvent({}));setTitle('');setAllDay(false);setUrl('');setLocation('');setDesc('');setGuests({});setValue([{value:'Business',label:'Business',color:'primary'}]);setStartPicker(new Date());setEndPicker(new Date());};// ** Set sidebar fields\nvar handleSelectedEvent=function handleSelectedEvent(){if(!isObjEmpty(selectedEvent)){var calendar=selectedEvent.extendedProps.calendar;var resolveLabel=function resolveLabel(){if(calendar.length){return{label:calendar,value:calendar,color:calendarsColor[calendar]};}else{return{value:'Business',label:'Business',color:'primary'};}};setTitle(selectedEvent.title||title);setAllDay(selectedEvent.allDay||allDay);setUrl(selectedEvent.url||url);setLocation(selectedEvent.extendedProps.location||location);setDesc(selectedEvent.extendedProps.description||desc);setGuests(selectedEvent.extendedProps.guests||guests);setStartPicker(new Date(selectedEvent.start));setEndPicker(selectedEvent.allDay?new Date(selectedEvent.start):new Date(selectedEvent.end));setValue([resolveLabel()]);}};// ** (UI) updateEventInCalendar\nvar updateEventInCalendar=function updateEventInCalendar(updatedEventData,propsToUpdate,extendedPropsToUpdate){var existingEvent=calendarApi.getEventById(updatedEventData.id);// ** Set event properties except date related\n// ? Docs: https://fullcalendar.io/docs/Event-setProp\n// ** dateRelatedProps => ['start', 'end', 'allDay']\n// ** eslint-disable-next-line no-plusplus\nfor(var index=0;index<propsToUpdate.length;index++){var propName=propsToUpdate[index];existingEvent.setProp(propName,updatedEventData[propName]);}// ** Set date related props\n// ? Docs: https://fullcalendar.io/docs/Event-setDates\nexistingEvent.setDates(updatedEventData.start,updatedEventData.end,{allDay:updatedEventData.allDay});// ** Set event's extendedProps\n// ? Docs: https://fullcalendar.io/docs/Event-setExtendedProp\n// ** eslint-disable-next-line no-plusplus\nfor(var _index=0;_index<extendedPropsToUpdate.length;_index++){var _propName=extendedPropsToUpdate[_index];existingEvent.setExtendedProp(_propName,updatedEventData.extendedProps[_propName]);}};// ** Updates Event in Store\nvar handleUpdateEvent=function handleUpdateEvent(){var eventToUpdate={id:selectedEvent.id,title:title,allDay:allDay,start:startPicker,end:endPicker,url:url,extendedProps:{location:location,description:desc,guests:guests,calendar:value[0].label}};var propsToUpdate=['id','title','url'];var extendedPropsToUpdate=['calendar','guests','location','description'];dispatch(updateEvent(eventToUpdate));updateEventInCalendar(eventToUpdate,propsToUpdate,extendedPropsToUpdate);handleAddEventSidebar();toast.success(/*#__PURE__*/_jsx(ToastComponent,{title:\"Event Updated\",color:\"success\",icon:/*#__PURE__*/_jsx(Check,{})}),{autoClose:2000,hideProgressBar:true,closeButton:false});};// ** (UI) removeEventInCalendar\nvar removeEventInCalendar=function removeEventInCalendar(eventId){calendarApi.getEventById(eventId).remove();};var handleDeleteEvent=function handleDeleteEvent(){dispatch(removeEvent(selectedEvent.id));removeEventInCalendar(selectedEvent.id);handleAddEventSidebar();toast.error(/*#__PURE__*/_jsx(ToastComponent,{title:\"Event Removed\",color:\"danger\",icon:/*#__PURE__*/_jsx(Trash,{})}),{autoClose:2000,hideProgressBar:true,closeButton:false});};// ** Event Action buttons\nvar EventActions=function EventActions(){if(isObjEmpty(selectedEvent)||!isObjEmpty(selectedEvent)&&!selectedEvent.title.length){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button.Ripple,{className:\"mr-1\",type:\"submit\",color:\"primary\",children:\"Add\"}),/*#__PURE__*/_jsx(Button.Ripple,{color:\"secondary\",type:\"reset\",onClick:handleAddEventSidebar,outline:true,children:\"Cancel\"})]});}else{return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button.Ripple,{className:\"mr-1\",color:\"primary\"// onClick={handleUpdateEvent}\n,children:\"Update\"}),/*#__PURE__*/_jsx(Button.Ripple,{color:\"danger\",onClick:handleDeleteEvent,outline:true,children:\"Delete\"})]});}};// ** Close BTN\nvar CloseBtn=/*#__PURE__*/_jsx(X,{className:\"cursor-pointer\",size:15,onClick:handleAddEventSidebar});return/*#__PURE__*/_jsxs(Modal,{isOpen:open,toggle:handleAddEventSidebar,className:\"sidebar-lg\",contentClassName:\"p-0\",onOpened:handleSelectedEvent,onClosed:handleResetInputValues,modalClassName:\"modal-slide-in event-sidebar\",children:[/*#__PURE__*/_jsx(ModalHeader,{className:\"mb-1\",toggle:handleAddEventSidebar,close:CloseBtn,tag:\"div\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[selectedEvent&&selectedEvent.title&&selectedEvent.title.length?'Update':'Add',\" Event\"]})}),/*#__PURE__*/_jsx(ModalBody,{className:\"flex-grow-1 pb-sm-0 pb-3\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(function(data){if(isObjEmpty(errors)){if(isObjEmpty(selectedEvent)||!isObjEmpty(selectedEvent)&&!selectedEvent.title.length){handleAddEvent();}else{handleUpdateEvent();}handleAddEventSidebar();}}),children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsxs(Label,{for:\"title\",children:[\"Title \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(Input,{id:\"title\",name:\"title\",placeholder:\"Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},innerRef:register({register:true,validate:function validate(value){return value!=='';}}),className:classnames({'is-invalid':errors.title})})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"label\",children:\"Label\"}),/*#__PURE__*/_jsx(Select,{id:\"label\",value:value,options:options,theme:selectThemeColors,className:\"react-select\",classNamePrefix:\"select\",isClearable:false,onChange:function onChange(data){return setValue([data]);},components:{Option:OptionComponent}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"startDate\",children:\"Start Date\"}),/*#__PURE__*/_jsx(Flatpickr,{required:true,id:\"startDate\"// tag={Flatpickr}\n,name:\"startDate\",className:\"form-control\",onChange:function onChange(date){return setStartPicker(date[0]);},value:startPicker,options:{enableTime:allDay===false,dateFormat:'Y-m-d H:i'}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"endDate\",children:\"End Date\"}),/*#__PURE__*/_jsx(Flatpickr,{required:true,id:\"endDate\"// tag={Flatpickr}\n,name:\"endDate\",className:\"form-control\",onChange:function onChange(date){return setEndPicker(date[0]);},value:endPicker,options:{enableTime:allDay===false,dateFormat:'Y-m-d H:i'}})]}),/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(CustomInput,{type:\"switch\",id:\"allDay\",name:\"customSwitch\",label:\"All Day\",checked:allDay,onChange:function onChange(e){return setAllDay(e.target.checked);},inline:true})}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"eventURL\",children:\"Event URL\"}),/*#__PURE__*/_jsx(Input,{type:\"url\",id:\"eventURL\",value:url,onChange:function onChange(e){return setUrl(e.target.value);},placeholder:\"https://www.google.com\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"guests\",children:\"Guests\"}),/*#__PURE__*/_jsx(Select,{isMulti:true,id:\"guests\",className:\"react-select\",classNamePrefix:\"select\",isClearable:false,options:guestsOptions,theme:selectThemeColors,value:guests.length?_toConsumableArray(guests):null,onChange:function onChange(data){return setGuests(_toConsumableArray(data));},components:{Option:GuestsComponent}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"location\",children:\"Location\"}),/*#__PURE__*/_jsx(Input,{id:\"location\",value:location,onChange:function onChange(e){return setLocation(e.target.value);},placeholder:\"Office\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(Input,{type:\"textarea\",name:\"text\",id:\"description\",rows:\"3\",value:desc,onChange:function onChange(e){return setDesc(e.target.value);},placeholder:\"Description\"})]}),/*#__PURE__*/_jsx(FormGroup,{className:\"d-flex\",children:/*#__PURE__*/_jsx(EventActions,{})})]})})]});};export default AddEventSidebar;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/apps/calendar/AddEventSidebar.js"],"names":["Fragment","useState","Avatar","classnames","toast","Flatpickr","X","Check","Trash","Select","components","useForm","Controller","Button","Modal","ModalHeader","ModalBody","FormGroup","Label","CustomInput","Input","Form","selectThemeColors","isObjEmpty","img1","img2","img3","img4","img5","img6","ToastComponent","title","icon","color","AddEventSidebar","props","store","dispatch","open","handleAddEventSidebar","calendarsColor","calendarApi","refetchEvents","addEvent","selectEvent","updateEvent","removeEvent","selectedEvent","register","errors","handleSubmit","url","setUrl","desc","setDesc","setTitle","guests","setGuests","allDay","setAllDay","location","setLocation","Date","endPicker","setEndPicker","startPicker","setStartPicker","value","label","setValue","options","guestsOptions","avatar","OptionComponent","data","GuestsComponent","handleAddEvent","obj","start","end","display","extendedProps","calendar","length","undefined","success","autoClose","hideProgressBar","closeButton","handleResetInputValues","handleSelectedEvent","resolveLabel","description","updateEventInCalendar","updatedEventData","propsToUpdate","extendedPropsToUpdate","existingEvent","getEventById","id","index","propName","setProp","setDates","setExtendedProp","handleUpdateEvent","eventToUpdate","removeEventInCalendar","eventId","remove","handleDeleteEvent","error","EventActions","CloseBtn","e","target","validate","Option","date","enableTime","dateFormat","checked"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\n\r\n// ** Custom Components\r\nimport Avatar from '@components/avatar'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport { toast } from 'react-toastify'\r\nimport Flatpickr from 'react-flatpickr'\r\nimport { X, Check, Trash } from 'react-feather'\r\nimport Select, { components } from 'react-select'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { Button, Modal, ModalHeader, ModalBody, FormGroup, Label, CustomInput, Input, Form } from 'reactstrap'\r\n\r\n// ** Utils\r\nimport { selectThemeColors, isObjEmpty } from '@utils'\r\n\r\n// ** Avatar Images\r\nimport img1 from '@src/assets/images/avatars/1-small.png'\r\nimport img2 from '@src/assets/images/avatars/3-small.png'\r\nimport img3 from '@src/assets/images/avatars/5-small.png'\r\nimport img4 from '@src/assets/images/avatars/7-small.png'\r\nimport img5 from '@src/assets/images/avatars/9-small.png'\r\nimport img6 from '@src/assets/images/avatars/11-small.png'\r\n\r\n// ** Styles Imports\r\nimport '@styles/react/libs/react-select/_react-select.scss'\r\nimport '@styles/react/libs/flatpickr/flatpickr.scss'\r\n\r\n// ** Toast Component\r\nconst ToastComponent = ({ title, icon, color }) => (\r\n  <Fragment>\r\n    <div className='toastify-header pb-0'>\r\n      <div className='title-wrapper'>\r\n        <Avatar size='sm' color={color} icon={icon} />\r\n        <h6 className='toast-title'>{title}</h6>\r\n      </div>\r\n    </div>\r\n  </Fragment>\r\n)\r\n\r\nconst AddEventSidebar = props => {\r\n  // ** Props\r\n  const {\r\n    store,\r\n    dispatch,\r\n    open,\r\n    handleAddEventSidebar,\r\n    calendarsColor,\r\n    calendarApi,\r\n    refetchEvents,\r\n    addEvent,\r\n    selectEvent,\r\n    updateEvent,\r\n    removeEvent\r\n  } = props\r\n\r\n  // ** Vars\r\n  const selectedEvent = store.selectedEvent\r\n  const { register, errors, handleSubmit } = useForm()\r\n\r\n  // ** States\r\n  const [url, setUrl] = useState('')\r\n  const [desc, setDesc] = useState('')\r\n  const [title, setTitle] = useState('')\r\n  const [guests, setGuests] = useState({})\r\n  const [allDay, setAllDay] = useState(false)\r\n  const [location, setLocation] = useState('')\r\n  const [endPicker, setEndPicker] = useState(new Date())\r\n  const [startPicker, setStartPicker] = useState(new Date())\r\n  const [value, setValue] = useState([{ value: 'Business', label: 'Business', color: 'primary' }])\r\n\r\n  // ** Select Options\r\n  const options = [\r\n    { value: 'Business', label: 'Business', color: 'primary' },\r\n    { value: 'Personal', label: 'Personal', color: 'danger' },\r\n    { value: 'Family', label: 'Family', color: 'warning' },\r\n    { value: 'Holiday', label: 'Holiday', color: 'success' },\r\n    { value: 'ETC', label: 'ETC', color: 'info' }\r\n  ]\r\n\r\n  const guestsOptions = [\r\n    { value: 'Donna Frank', label: 'Donna Frank', avatar: img1 },\r\n    { value: 'Jane Foster', label: 'Jane Foster', avatar: img2 },\r\n    { value: 'Gabrielle Robertson', label: 'Gabrielle Robertson', avatar: img3 },\r\n    { value: 'Lori Spears', label: 'Lori Spears', avatar: img4 },\r\n    { value: 'Sandy Vega', label: 'Sandy Vega', avatar: img5 },\r\n    { value: 'Cheryl May', label: 'Cheryl May', avatar: img6 }\r\n  ]\r\n\r\n  // ** Custom select components\r\n  const OptionComponent = ({ data, ...props }) => {\r\n    return (\r\n      <components.Option {...props}>\r\n        <span className={`bullet bullet-${data.color} bullet-sm mr-50`}></span>\r\n        {data.label}\r\n      </components.Option>\r\n    )\r\n  }\r\n\r\n  const GuestsComponent = ({ data, ...props }) => {\r\n    return (\r\n      <components.Option {...props}>\r\n        <div className='d-flex flex-wrap align-items-center'>\r\n          <Avatar className='my-0 mr-1' size='sm' img={data.avatar} />\r\n          <div>{data.label}</div>\r\n        </div>\r\n      </components.Option>\r\n    )\r\n  }\r\n\r\n  // ** Adds New Event\r\n  const handleAddEvent = () => {\r\n    const obj = {\r\n      title,\r\n      start: startPicker,\r\n      end: endPicker,\r\n      allDay,\r\n      display: 'block',\r\n      extendedProps: {\r\n        calendar: value[0].label,\r\n        url: url.length ? url : undefined,\r\n        guests: guests.length ? guests : undefined,\r\n        location: location.length ? location : undefined,\r\n        desc: desc.length ? desc : undefined\r\n      }\r\n    }\r\n    dispatch(addEvent(obj))\r\n    refetchEvents()\r\n    handleAddEventSidebar()\r\n    toast.success(<ToastComponent title='Event Added' color='success' icon={<Check />} />, {\r\n      autoClose: 2000,\r\n      hideProgressBar: true,\r\n      closeButton: false\r\n    })\r\n  }\r\n\r\n  // ** Reset Input Values on Close\r\n  const handleResetInputValues = () => {\r\n    dispatch(selectEvent({}))\r\n    setTitle('')\r\n    setAllDay(false)\r\n    setUrl('')\r\n    setLocation('')\r\n    setDesc('')\r\n    setGuests({})\r\n    setValue([{ value: 'Business', label: 'Business', color: 'primary' }])\r\n    setStartPicker(new Date())\r\n    setEndPicker(new Date())\r\n  }\r\n\r\n  // ** Set sidebar fields\r\n  const handleSelectedEvent = () => {\r\n    if (!isObjEmpty(selectedEvent)) {\r\n      const calendar = selectedEvent.extendedProps.calendar\r\n\r\n      const resolveLabel = () => {\r\n        if (calendar.length) {\r\n          return { label: calendar, value: calendar, color: calendarsColor[calendar] }\r\n        } else {\r\n          return { value: 'Business', label: 'Business', color: 'primary' }\r\n        }\r\n      }\r\n      setTitle(selectedEvent.title || title)\r\n      setAllDay(selectedEvent.allDay || allDay)\r\n      setUrl(selectedEvent.url || url)\r\n      setLocation(selectedEvent.extendedProps.location || location)\r\n      setDesc(selectedEvent.extendedProps.description || desc)\r\n      setGuests(selectedEvent.extendedProps.guests || guests)\r\n      setStartPicker(new Date(selectedEvent.start))\r\n      setEndPicker(selectedEvent.allDay ? new Date(selectedEvent.start) : new Date(selectedEvent.end))\r\n      setValue([resolveLabel()])\r\n    }\r\n  }\r\n\r\n  // ** (UI) updateEventInCalendar\r\n  const updateEventInCalendar = (updatedEventData, propsToUpdate, extendedPropsToUpdate) => {\r\n    const existingEvent = calendarApi.getEventById(updatedEventData.id)\r\n\r\n    // ** Set event properties except date related\r\n    // ? Docs: https://fullcalendar.io/docs/Event-setProp\r\n    // ** dateRelatedProps => ['start', 'end', 'allDay']\r\n    // ** eslint-disable-next-line no-plusplus\r\n    for (let index = 0; index < propsToUpdate.length; index++) {\r\n      const propName = propsToUpdate[index]\r\n      existingEvent.setProp(propName, updatedEventData[propName])\r\n    }\r\n\r\n    // ** Set date related props\r\n    // ? Docs: https://fullcalendar.io/docs/Event-setDates\r\n    existingEvent.setDates(updatedEventData.start, updatedEventData.end, { allDay: updatedEventData.allDay })\r\n\r\n    // ** Set event's extendedProps\r\n    // ? Docs: https://fullcalendar.io/docs/Event-setExtendedProp\r\n    // ** eslint-disable-next-line no-plusplus\r\n    for (let index = 0; index < extendedPropsToUpdate.length; index++) {\r\n      const propName = extendedPropsToUpdate[index]\r\n      existingEvent.setExtendedProp(propName, updatedEventData.extendedProps[propName])\r\n    }\r\n  }\r\n\r\n  // ** Updates Event in Store\r\n  const handleUpdateEvent = () => {\r\n    const eventToUpdate = {\r\n      id: selectedEvent.id,\r\n      title,\r\n      allDay,\r\n      start: startPicker,\r\n      end: endPicker,\r\n      url,\r\n      extendedProps: {\r\n        location,\r\n        description: desc,\r\n        guests,\r\n        calendar: value[0].label\r\n      }\r\n    }\r\n\r\n    const propsToUpdate = ['id', 'title', 'url']\r\n    const extendedPropsToUpdate = ['calendar', 'guests', 'location', 'description']\r\n\r\n    dispatch(updateEvent(eventToUpdate))\r\n    updateEventInCalendar(eventToUpdate, propsToUpdate, extendedPropsToUpdate)\r\n    handleAddEventSidebar()\r\n    toast.success(<ToastComponent title='Event Updated' color='success' icon={<Check />} />, {\r\n      autoClose: 2000,\r\n      hideProgressBar: true,\r\n      closeButton: false\r\n    })\r\n  }\r\n\r\n  // ** (UI) removeEventInCalendar\r\n  const removeEventInCalendar = eventId => {\r\n    calendarApi.getEventById(eventId).remove()\r\n  }\r\n  const handleDeleteEvent = () => {\r\n    dispatch(removeEvent(selectedEvent.id))\r\n    removeEventInCalendar(selectedEvent.id)\r\n    handleAddEventSidebar()\r\n    toast.error(<ToastComponent title='Event Removed' color='danger' icon={<Trash />} />, {\r\n      autoClose: 2000,\r\n      hideProgressBar: true,\r\n      closeButton: false\r\n    })\r\n  }\r\n\r\n  // ** Event Action buttons\r\n  const EventActions = () => {\r\n    if (isObjEmpty(selectedEvent) || (!isObjEmpty(selectedEvent) && !selectedEvent.title.length)) {\r\n      return (\r\n        <Fragment>\r\n          <Button.Ripple className='mr-1' type='submit' color='primary'>\r\n            Add\r\n          </Button.Ripple>\r\n          <Button.Ripple color='secondary' type='reset' onClick={handleAddEventSidebar} outline>\r\n            Cancel\r\n          </Button.Ripple>\r\n        </Fragment>\r\n      )\r\n    } else {\r\n      return (\r\n        <Fragment>\r\n          <Button.Ripple\r\n            className='mr-1'\r\n            color='primary'\r\n            // onClick={handleUpdateEvent}\r\n          >\r\n            Update\r\n          </Button.Ripple>\r\n          <Button.Ripple color='danger' onClick={handleDeleteEvent} outline>\r\n            Delete\r\n          </Button.Ripple>\r\n        </Fragment>\r\n      )\r\n    }\r\n  }\r\n\r\n  // ** Close BTN\r\n  const CloseBtn = <X className='cursor-pointer' size={15} onClick={handleAddEventSidebar} />\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={open}\r\n      toggle={handleAddEventSidebar}\r\n      className='sidebar-lg'\r\n      contentClassName='p-0'\r\n      onOpened={handleSelectedEvent}\r\n      onClosed={handleResetInputValues}\r\n      modalClassName='modal-slide-in event-sidebar'\r\n    >\r\n      <ModalHeader className='mb-1' toggle={handleAddEventSidebar} close={CloseBtn} tag='div'>\r\n        <h5 className='modal-title'>\r\n          {selectedEvent && selectedEvent.title && selectedEvent.title.length ? 'Update' : 'Add'} Event\r\n        </h5>\r\n      </ModalHeader>\r\n      <ModalBody className='flex-grow-1 pb-sm-0 pb-3'>\r\n        <Form\r\n          onSubmit={handleSubmit(data => {\r\n            if (isObjEmpty(errors)) {\r\n              if (isObjEmpty(selectedEvent) || (!isObjEmpty(selectedEvent) && !selectedEvent.title.length)) {\r\n                handleAddEvent()\r\n              } else {\r\n                handleUpdateEvent()\r\n              }\r\n              handleAddEventSidebar()\r\n            }\r\n          })}\r\n        >\r\n          <FormGroup>\r\n            <Label for='title'>\r\n              Title <span className='text-danger'>*</span>\r\n            </Label>\r\n            <Input\r\n              id='title'\r\n              name='title'\r\n              placeholder='Title'\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              innerRef={register({ register: true, validate: value => value !== '' })}\r\n              className={classnames({\r\n                'is-invalid': errors.title\r\n              })}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='label'>Label</Label>\r\n            <Select\r\n              id='label'\r\n              value={value}\r\n              options={options}\r\n              theme={selectThemeColors}\r\n              className='react-select'\r\n              classNamePrefix='select'\r\n              isClearable={false}\r\n              onChange={data => setValue([data])}\r\n              components={{\r\n                Option: OptionComponent\r\n              }}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='startDate'>Start Date</Label>\r\n            <Flatpickr\r\n              required\r\n              id='startDate'\r\n              // tag={Flatpickr}\r\n              name='startDate'\r\n              className='form-control'\r\n              onChange={date => setStartPicker(date[0])}\r\n              value={startPicker}\r\n              options={{\r\n                enableTime: allDay === false,\r\n                dateFormat: 'Y-m-d H:i'\r\n              }}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='endDate'>End Date</Label>\r\n            <Flatpickr\r\n              required\r\n              id='endDate'\r\n              // tag={Flatpickr}\r\n              name='endDate'\r\n              className='form-control'\r\n              onChange={date => setEndPicker(date[0])}\r\n              value={endPicker}\r\n              options={{\r\n                enableTime: allDay === false,\r\n                dateFormat: 'Y-m-d H:i'\r\n              }}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <CustomInput\r\n              type='switch'\r\n              id='allDay'\r\n              name='customSwitch'\r\n              label='All Day'\r\n              checked={allDay}\r\n              onChange={e => setAllDay(e.target.checked)}\r\n              inline\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='eventURL'>Event URL</Label>\r\n            <Input\r\n              type='url'\r\n              id='eventURL'\r\n              value={url}\r\n              onChange={e => setUrl(e.target.value)}\r\n              placeholder='https://www.google.com'\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='guests'>Guests</Label>\r\n            <Select\r\n              isMulti\r\n              id='guests'\r\n              className='react-select'\r\n              classNamePrefix='select'\r\n              isClearable={false}\r\n              options={guestsOptions}\r\n              theme={selectThemeColors}\r\n              value={guests.length ? [...guests] : null}\r\n              onChange={data => setGuests([...data])}\r\n              components={{\r\n                Option: GuestsComponent\r\n              }}\r\n            />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='location'>Location</Label>\r\n            <Input id='location' value={location} onChange={e => setLocation(e.target.value)} placeholder='Office' />\r\n          </FormGroup>\r\n\r\n          <FormGroup>\r\n            <Label for='description'>Description</Label>\r\n            <Input\r\n              type='textarea'\r\n              name='text'\r\n              id='description'\r\n              rows='3'\r\n              value={desc}\r\n              onChange={e => setDesc(e.target.value)}\r\n              placeholder='Description'\r\n            />\r\n          </FormGroup>\r\n          <FormGroup className='d-flex'>\r\n            <EventActions />\r\n          </FormGroup>\r\n        </Form>\r\n      </ModalBody>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default AddEventSidebar\r\n"]},"metadata":{},"sourceType":"module"}