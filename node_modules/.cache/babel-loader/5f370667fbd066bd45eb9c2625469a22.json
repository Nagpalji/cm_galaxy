{"ast":null,"code":"// ** Custom Components & Plugins\nimport classnames from'classnames';import{htmlToString}from'@utils';import Avatar from'@components/avatar';import{Star,Paperclip}from'react-feather';import{CustomInput,Media}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MailCard=function MailCard(props){// ** Props\nvar mail=props.mail,dispatch=props.dispatch,selectMail=props.selectMail,labelColors=props.labelColors,updateMails=props.updateMails,selectedMails=props.selectedMails,handleMailClick=props.handleMailClick,handleMailReadUpdate=props.handleMailReadUpdate,formatDateToMonthShort=props.formatDateToMonthShort;// ** Function to render labels\nvar renderLabels=function renderLabels(arr){if(arr&&arr.length){return arr.map(function(label){return/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-\".concat(labelColors[label],\" bullet-sm mx-50\")},label);});}};// ** Function to handle read & mail click\nvar onMailClick=function onMailClick(){handleMailClick(mail.id);handleMailReadUpdate([mail.id],true);};return/*#__PURE__*/_jsxs(Media,{tag:\"li\",onClick:function onClick(){return onMailClick(mail.id);},className:classnames({'mail-read':mail.isRead}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"media-left pr-50\",children:[/*#__PURE__*/_jsx(Avatar,{img:mail.from.avatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-action\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"custom-control-input\",type:\"checkbox\",id:\"\".concat(mail.from.name,\"-\").concat(mail.id),checked:selectedMails.includes(mail.id),onChange:function onChange(e){return e.stopPropagation();},onClick:function onClick(e){dispatch(selectMail(mail.id));e.stopPropagation();}}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-control-label\",htmlFor:\"\".concat(mail.from.name,\"-\").concat(mail.id),onClick:function onClick(e){e.stopPropagation();}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"email-favorite\",onClick:function onClick(e){e.stopPropagation();dispatch(updateMails([mail.id],{isStarred:!mail.isStarred}));},children:/*#__PURE__*/_jsx(Star,{size:14,className:classnames({favorite:mail.isStarred})})})]})]}),/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mail-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mail-items\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-25\",children:mail.from.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-truncate\",children:mail.subject})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mail-meta-item\",children:[mail.attachments&&mail.attachments.length?/*#__PURE__*/_jsx(Paperclip,{size:14}):null,renderLabels(mail.labels),/*#__PURE__*/_jsx(\"span\",{className:\"mail-date\",children:formatDateToMonthShort(mail.time)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mail-message\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-truncate mb-0\",children:htmlToString(mail.message)})})]})]});};export default MailCard;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/apps/email/MailCard.js"],"names":["classnames","htmlToString","Avatar","Star","Paperclip","CustomInput","Media","MailCard","props","mail","dispatch","selectMail","labelColors","updateMails","selectedMails","handleMailClick","handleMailReadUpdate","formatDateToMonthShort","renderLabels","arr","length","map","label","onMailClick","id","isRead","from","avatar","name","includes","e","stopPropagation","isStarred","favorite","subject","attachments","labels","time","message"],"mappings":"AAAA;AACA,MAAOA,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,YAAT,KAA6B,QAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,eAAhC,CACA,OAASC,WAAT,CAAsBC,KAAtB,KAAmC,YAAnC,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,CACxB;AACA,GACEC,CAAAA,IADF,CAUID,KAVJ,CACEC,IADF,CAEEC,QAFF,CAUIF,KAVJ,CAEEE,QAFF,CAGEC,UAHF,CAUIH,KAVJ,CAGEG,UAHF,CAIEC,WAJF,CAUIJ,KAVJ,CAIEI,WAJF,CAKEC,WALF,CAUIL,KAVJ,CAKEK,WALF,CAMEC,aANF,CAUIN,KAVJ,CAMEM,aANF,CAOEC,eAPF,CAUIP,KAVJ,CAOEO,eAPF,CAQEC,oBARF,CAUIR,KAVJ,CAQEQ,oBARF,CASEC,sBATF,CAUIT,KAVJ,CASES,sBATF,CAYA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,GAAG,CAAI,CAC1B,GAAIA,GAAG,EAAIA,GAAG,CAACC,MAAf,CAAuB,CACrB,MAAOD,CAAAA,GAAG,CAACE,GAAJ,CAAQ,SAAAC,KAAK,qBAClB,aAAkB,SAAS,yBAAmBV,WAAW,CAACU,KAAD,CAA9B,oBAA3B,EAAWA,KAAX,CADkB,EAAb,CAAP,CAGD,CACF,CAND,CAQA;AACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBR,eAAe,CAACN,IAAI,CAACe,EAAN,CAAf,CACAR,oBAAoB,CAAC,CAACP,IAAI,CAACe,EAAN,CAAD,CAAY,IAAZ,CAApB,CACD,CAHD,CAKA,mBACE,MAAC,KAAD,EAAO,GAAG,CAAC,IAAX,CAAgB,OAAO,CAAE,yBAAMD,CAAAA,WAAW,CAACd,IAAI,CAACe,EAAN,CAAjB,EAAzB,CAAqD,SAAS,CAAExB,UAAU,CAAC,CAAE,YAAaS,IAAI,CAACgB,MAApB,CAAD,CAA1E,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,KAAC,MAAD,EAAQ,GAAG,CAAEhB,IAAI,CAACiB,IAAL,CAAUC,MAAvB,EADF,cAEE,aAAK,SAAS,CAAC,aAAf,wBAYE,aAAK,SAAS,CAAC,gCAAf,wBACE,cACE,SAAS,CAAC,sBADZ,CAEE,IAAI,CAAC,UAFP,CAGE,EAAE,WAAKlB,IAAI,CAACiB,IAAL,CAAUE,IAAf,aAAuBnB,IAAI,CAACe,EAA5B,CAHJ,CAIE,OAAO,CAAEV,aAAa,CAACe,QAAd,CAAuBpB,IAAI,CAACe,EAA5B,CAJX,CAKE,QAAQ,CAAE,kBAAAM,CAAC,QAAIA,CAAAA,CAAC,CAACC,eAAF,EAAJ,EALb,CAME,OAAO,CAAE,iBAAAD,CAAC,CAAI,CACZpB,QAAQ,CAACC,UAAU,CAACF,IAAI,CAACe,EAAN,CAAX,CAAR,CACAM,CAAC,CAACC,eAAF,GACD,CATH,EADF,cAYE,cACE,SAAS,CAAC,sBADZ,CAEE,OAAO,WAAKtB,IAAI,CAACiB,IAAL,CAAUE,IAAf,aAAuBnB,IAAI,CAACe,EAA5B,CAFT,CAGE,OAAO,CAAE,iBAAAM,CAAC,CAAI,CACZA,CAAC,CAACC,eAAF,GACD,CALH,EAZF,GAZF,cAgCE,YACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,iBAAAD,CAAC,CAAI,CACZA,CAAC,CAACC,eAAF,GACArB,QAAQ,CAACG,WAAW,CAAC,CAACJ,IAAI,CAACe,EAAN,CAAD,CAAY,CAAEQ,SAAS,CAAE,CAACvB,IAAI,CAACuB,SAAnB,CAAZ,CAAZ,CAAR,CACD,CALH,uBAOE,KAAC,IAAD,EACE,IAAI,CAAE,EADR,CAEE,SAAS,CAAEhC,UAAU,CAAC,CACpBiC,QAAQ,CAAExB,IAAI,CAACuB,SADK,CAAD,CAFvB,EAPF,EAhCF,GAFF,GADF,cAmDE,MAAC,KAAD,EAAO,IAAI,KAAX,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,WAAI,SAAS,CAAC,OAAd,UAAuBvB,IAAI,CAACiB,IAAL,CAAUE,IAAjC,EADF,cAEE,aAAM,SAAS,CAAC,eAAhB,UAAiCnB,IAAI,CAACyB,OAAtC,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,gBAAf,WACGzB,IAAI,CAAC0B,WAAL,EAAoB1B,IAAI,CAAC0B,WAAL,CAAiBf,MAArC,cAA8C,KAAC,SAAD,EAAW,IAAI,CAAE,EAAjB,EAA9C,CAAwE,IAD3E,CAEGF,YAAY,CAACT,IAAI,CAAC2B,MAAN,CAFf,cAGE,aAAM,SAAS,CAAC,WAAhB,UAA6BnB,sBAAsB,CAACR,IAAI,CAAC4B,IAAN,CAAnD,EAHF,GALF,GADF,cAYE,YAAK,SAAS,CAAC,cAAf,uBACE,UAAG,SAAS,CAAC,oBAAb,UAAmCpC,YAAY,CAACQ,IAAI,CAAC6B,OAAN,CAA/C,EADF,EAZF,GAnDF,GADF,CAsED,CAnGD,CAqGA,cAAe/B,CAAAA,QAAf","sourcesContent":["// ** Custom Components & Plugins\r\nimport classnames from 'classnames'\r\nimport { htmlToString } from '@utils'\r\nimport Avatar from '@components/avatar'\r\nimport { Star, Paperclip } from 'react-feather'\r\nimport { CustomInput, Media } from 'reactstrap'\r\n\r\nconst MailCard = props => {\r\n  // ** Props\r\n  const {\r\n    mail,\r\n    dispatch,\r\n    selectMail,\r\n    labelColors,\r\n    updateMails,\r\n    selectedMails,\r\n    handleMailClick,\r\n    handleMailReadUpdate,\r\n    formatDateToMonthShort\r\n  } = props\r\n\r\n  // ** Function to render labels\r\n  const renderLabels = arr => {\r\n    if (arr && arr.length) {\r\n      return arr.map(label => (\r\n        <span key={label} className={`bullet bullet-${labelColors[label]} bullet-sm mx-50`}></span>\r\n      ))\r\n    }\r\n  }\r\n\r\n  // ** Function to handle read & mail click\r\n  const onMailClick = () => {\r\n    handleMailClick(mail.id)\r\n    handleMailReadUpdate([mail.id], true)\r\n  }\r\n\r\n  return (\r\n    <Media tag='li' onClick={() => onMailClick(mail.id)} className={classnames({ 'mail-read': mail.isRead })}>\r\n      <div className='media-left pr-50'>\r\n        <Avatar img={mail.from.avatar} />\r\n        <div className='user-action'>\r\n          {/* <CustomInput\r\n            label=''\r\n            type='checkbox'\r\n            checked={selectedMails.includes(mail.id)}\r\n            id={`${mail.from.name}-${mail.id}`}\r\n            onChange={e => e.stopPropagation()}\r\n            onClick={e => {\r\n              dispatch(selectMail(mail.id))\r\n              e.stopPropagation()\r\n            }}\r\n          /> */}\r\n          <div className='custom-control custom-checkbox'>\r\n            <input\r\n              className='custom-control-input'\r\n              type='checkbox'\r\n              id={`${mail.from.name}-${mail.id}`}\r\n              checked={selectedMails.includes(mail.id)}\r\n              onChange={e => e.stopPropagation()}\r\n              onClick={e => {\r\n                dispatch(selectMail(mail.id))\r\n                e.stopPropagation()\r\n              }}\r\n            />\r\n            <label\r\n              className='custom-control-label'\r\n              htmlFor={`${mail.from.name}-${mail.id}`}\r\n              onClick={e => {\r\n                e.stopPropagation()\r\n              }}\r\n            ></label>\r\n          </div>\r\n          <div\r\n            className='email-favorite'\r\n            onClick={e => {\r\n              e.stopPropagation()\r\n              dispatch(updateMails([mail.id], { isStarred: !mail.isStarred }))\r\n            }}\r\n          >\r\n            <Star\r\n              size={14}\r\n              className={classnames({\r\n                favorite: mail.isStarred\r\n              })}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Media body>\r\n        <div className='mail-details'>\r\n          <div className='mail-items'>\r\n            <h5 className='mb-25'>{mail.from.name}</h5>\r\n            <span className='text-truncate'>{mail.subject}</span>\r\n          </div>\r\n          <div className='mail-meta-item'>\r\n            {mail.attachments && mail.attachments.length ? <Paperclip size={14} /> : null}\r\n            {renderLabels(mail.labels)}\r\n            <span className='mail-date'>{formatDateToMonthShort(mail.time)}</span>\r\n          </div>\r\n        </div>\r\n        <div className='mail-message'>\r\n          <p className='text-truncate mb-0'>{htmlToString(mail.message)}</p>\r\n        </div>\r\n      </Media>\r\n    </Media>\r\n  )\r\n}\r\n\r\nexport default MailCard\r\n"]},"metadata":{},"sourceType":"module"}