{"ast":null,"code":"import _slicedToArray from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link,Redirect,Route,Router,useHistory}from\"react-router-dom\";import{Card,CardHeader,CardTitle,CardBody,Row,Col}from'reactstrap';import*as ReactDOM from'react-dom';import{NumericTextBox}from'@progress/kendo-react-inputs';import{Chart,ChartTitle,ChartLegend,ChartTooltip,ChartArea,ChartPlotArea,ChartSeries,ChartSeriesItem,ChartSeriesLabels}from'@progress/kendo-react-charts';import\"hammerjs\";import Funnel from'./Funnel';import Table from'./Table';import FunnelMappingDetails from'./FunnelMappingDetails';import{toast,ToastContainer}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var tooltipRender=function tooltipRender(props){if(props.point){return props.point.dataItem.stat;}};var ChartContainer1=function ChartContainer1(){var dateTo=localStorage.getItem(\"date_to\");var dateFrom=localStorage.getItem(\"date_from\");var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),res=_useState2[0],setRes=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tabelData=_useState4[0],setTabelData=_useState4[1];var _useState5=useState(\"tofu\"),_useState6=_slicedToArray(_useState5,2),selectedCategory=_useState6[0],_setselectedCategory=_useState6[1];useEffect(function(){fetch('https://srvr1px.cyberads.io/getFunnelData/',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({startDate:dateFrom,endDate:dateTo})}).then(function(response){return response.json();}).then(function(data){return setRes(data);}).catch(function(err){toast.error(err.message);});},[]);useEffect(function(){fetch('https://srvr1px.cyberads.io/getFunneltableData/',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({startDate:dateFrom,endDate:dateTo})}).then(function(response){return response.json();}).then(function(data){return setTabelData(data);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Row,{className:\"match-height\",children:/*#__PURE__*/_jsx(Col,{xs:\"12\",children:/*#__PURE__*/_jsx(Funnel,{res:res,setselectedCategory:function setselectedCategory(cat){return _setselectedCategory(cat);}})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Row,{className:\"match-height\",children:/*#__PURE__*/_jsx(Col,{xs:\"12\",children:/*#__PURE__*/_jsx(Table,{data:tabelData,selectedCategory:selectedCategory})})})]});};export default ChartContainer1;","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/funnelmapping/index.js"],"names":["React","useEffect","useState","Link","Redirect","Route","Router","useHistory","Card","CardHeader","CardTitle","CardBody","Row","Col","ReactDOM","NumericTextBox","Chart","ChartTitle","ChartLegend","ChartTooltip","ChartArea","ChartPlotArea","ChartSeries","ChartSeriesItem","ChartSeriesLabels","Funnel","Table","FunnelMappingDetails","toast","ToastContainer","tooltipRender","props","point","dataItem","stat","ChartContainer1","dateTo","localStorage","getItem","dateFrom","history","res","setRes","tabelData","setTabelData","selectedCategory","setselectedCategory","fetch","method","headers","body","JSON","stringify","startDate","endDate","then","response","json","data","catch","err","error","message","cat"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link, Redirect, Route, Router, useHistory } from \"react-router-dom\"\r\nimport { Card, CardHeader, CardTitle, CardBody, Row, Col } from 'reactstrap'\r\nimport * as ReactDOM from 'react-dom'\r\nimport { NumericTextBox } from '@progress/kendo-react-inputs'\r\nimport { Chart, ChartTitle, ChartLegend, ChartTooltip, ChartArea, ChartPlotArea, ChartSeries, ChartSeriesItem, ChartSeriesLabels } from '@progress/kendo-react-charts'\r\nimport \"hammerjs\"\r\nimport Funnel from './Funnel'\r\nimport Table from './Table'\r\nimport FunnelMappingDetails from './FunnelMappingDetails'\r\nimport { toast, ToastContainer } from 'react-toastify'\r\n\r\nconst tooltipRender = (props) => {\r\n    if (props.point) {\r\n        return props.point.dataItem.stat\r\n    }\r\n}\r\n\r\nconst ChartContainer1 = () => {\r\n    const dateTo = localStorage.getItem(\"date_to\")\r\n    const dateFrom = localStorage.getItem(\"date_from\")\r\n\r\n    const history = useHistory()\r\n    const [res, setRes] = useState([])\r\n    const [tabelData, setTabelData] = useState([])\r\n    const [selectedCategory, setselectedCategory] = useState(\"tofu\")\r\n    useEffect(() => {\r\n        fetch('https://srvr1px.cyberads.io/getFunnelData/', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ startDate: dateFrom, endDate: dateTo })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => setRes(data))\r\n            .catch(err => {\r\n                toast.error(err.message)\r\n            })\r\n       \r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        fetch('https://srvr1px.cyberads.io/getFunneltableData/', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ startDate: dateFrom, endDate: dateTo })\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => setTabelData(data))\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <>\r\n        <ToastContainer />\r\n            <Row className=\"match-height\">\r\n                <Col xs=\"12\">\r\n                    <Funnel res={res} setselectedCategory={(cat) => setselectedCategory(cat)}  />\r\n                    {/* <FunnelMappingDetails /> */}\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n            <Row className=\"match-height\">\r\n                <Col xs=\"12\">\r\n                    <Table data={tabelData} selectedCategory={selectedCategory} />\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\nexport default ChartContainer1"]},"metadata":{},"sourceType":"module"}