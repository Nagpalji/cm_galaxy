{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';// ** Get all Data\nexport var getAllData=function getAllData(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/users/list/all-data').then(function(response){dispatch({type:'GET_ALL_DATA',data:response.data});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};// ** Get data on page or row change\nexport var getData=function getData(params){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/users/list/data',params).then(function(response){dispatch({type:'GET_DATA',data:response.data.users,totalPages:response.data.total,params:params});});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// ** Get User\nexport var getUser=function getUser(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get('/api/users/user',{id:id}).then(function(response){dispatch({type:'GET_USER',selectedUser:response.data.user});}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// ** Add new user\nexport var addUser=function addUser(user){return function(dispatch,getState){axios.post('/apps/users/add-user',user).then(function(response){dispatch({type:'ADD_USER',user:user});}).then(function(){dispatch(getData(getState().users.params));dispatch(getAllData());}).catch(function(err){return console.log(err);});};};// ** Delete user\nexport var deleteUser=function deleteUser(id){return function(dispatch,getState){axios.delete('/apps/users/delete',{id:id}).then(function(response){dispatch({type:'DELETE_USER'});}).then(function(){dispatch(getData(getState().users.params));dispatch(getAllData());});};};","map":{"version":3,"sources":["C:/Users/nsahi/OneDrive/Documents/cyber_media/cm_galaxy/src/views/apps/user/store/action/index.js"],"names":["axios","getAllData","dispatch","get","then","response","type","data","getData","params","users","totalPages","total","getUser","id","selectedUser","user","catch","err","console","log","addUser","getState","post","deleteUser","delete"],"mappings":"yVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA;AACA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC9B,+FAAO,iBAAMC,QAAN,wIACCF,CAAAA,KAAK,CAACG,GAAN,CAAU,0BAAV,EAAsCC,IAAtC,CAA2C,SAAAC,QAAQ,CAAI,CAC3DH,QAAQ,CAAC,CACPI,IAAI,CAAE,cADC,CAEPC,IAAI,CAAEF,QAAQ,CAACE,IAFR,CAAD,CAAR,CAID,CALK,CADD,uDAAP,+DAQD,CATM,CAWP;AACA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,MAAM,CAAI,CAC/B,gGAAO,kBAAMP,QAAN,6IACCF,CAAAA,KAAK,CAACG,GAAN,CAAU,sBAAV,CAAkCM,MAAlC,EAA0CL,IAA1C,CAA+C,SAAAC,QAAQ,CAAI,CAC/DH,QAAQ,CAAC,CACPI,IAAI,CAAE,UADC,CAEPC,IAAI,CAAEF,QAAQ,CAACE,IAAT,CAAcG,KAFb,CAGPC,UAAU,CAAEN,QAAQ,CAACE,IAAT,CAAcK,KAHnB,CAIPH,MAAM,CAANA,MAJO,CAAD,CAAR,CAMD,CAPK,CADD,yDAAP,iEAUD,CAXM,CAaP;AACA,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,EAAE,CAAI,CAC3B,gGAAO,kBAAMZ,QAAN,6IACCF,CAAAA,KAAK,CACRG,GADG,CACC,iBADD,CACoB,CAAEW,EAAE,CAAFA,EAAF,CADpB,EAEHV,IAFG,CAEE,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPI,IAAI,CAAE,UADC,CAEPS,YAAY,CAAEV,QAAQ,CAACE,IAAT,CAAcS,IAFrB,CAAD,CAAR,CAID,CAPG,EAQHC,KARG,CAQG,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EARN,CADD,yDAAP,iEAWD,CAZM,CAcP;AACA,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAL,IAAI,CAAI,CAC7B,MAAO,UAACd,QAAD,CAAWoB,QAAX,CAAwB,CAC7BtB,KAAK,CACFuB,IADH,CACQ,sBADR,CACgCP,IADhC,EAEGZ,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPI,IAAI,CAAE,UADC,CAEPU,IAAI,CAAJA,IAFO,CAAD,CAAR,CAID,CAPH,EAQGZ,IARH,CAQQ,UAAM,CACVF,QAAQ,CAACM,OAAO,CAACc,QAAQ,GAAGZ,KAAX,CAAiBD,MAAlB,CAAR,CAAR,CACAP,QAAQ,CAACD,UAAU,EAAX,CAAR,CACD,CAXH,EAYGgB,KAZH,CAYS,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAZZ,EAaD,CAdD,CAeD,CAhBM,CAkBP;AACA,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAV,EAAE,CAAI,CAC9B,MAAO,UAACZ,QAAD,CAAWoB,QAAX,CAAwB,CAC7BtB,KAAK,CACFyB,MADH,CACU,oBADV,CACgC,CAAEX,EAAE,CAAFA,EAAF,CADhC,EAEGV,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBH,QAAQ,CAAC,CACPI,IAAI,CAAE,aADC,CAAD,CAAR,CAGD,CANH,EAOGF,IAPH,CAOQ,UAAM,CACVF,QAAQ,CAACM,OAAO,CAACc,QAAQ,GAAGZ,KAAX,CAAiBD,MAAlB,CAAR,CAAR,CACAP,QAAQ,CAACD,UAAU,EAAX,CAAR,CACD,CAVH,EAWD,CAZD,CAaD,CAdM","sourcesContent":["import axios from 'axios'\r\n\r\n// ** Get all Data\r\nexport const getAllData = () => {\r\n  return async dispatch => {\r\n    await axios.get('/api/users/list/all-data').then(response => {\r\n      dispatch({\r\n        type: 'GET_ALL_DATA',\r\n        data: response.data\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n// ** Get data on page or row change\r\nexport const getData = params => {\r\n  return async dispatch => {\r\n    await axios.get('/api/users/list/data', params).then(response => {\r\n      dispatch({\r\n        type: 'GET_DATA',\r\n        data: response.data.users,\r\n        totalPages: response.data.total,\r\n        params\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n// ** Get User\r\nexport const getUser = id => {\r\n  return async dispatch => {\r\n    await axios\r\n      .get('/api/users/user', { id })\r\n      .then(response => {\r\n        dispatch({\r\n          type: 'GET_USER',\r\n          selectedUser: response.data.user\r\n        })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n// ** Add new user\r\nexport const addUser = user => {\r\n  return (dispatch, getState) => {\r\n    axios\r\n      .post('/apps/users/add-user', user)\r\n      .then(response => {\r\n        dispatch({\r\n          type: 'ADD_USER',\r\n          user\r\n        })\r\n      })\r\n      .then(() => {\r\n        dispatch(getData(getState().users.params))\r\n        dispatch(getAllData())\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\n// ** Delete user\r\nexport const deleteUser = id => {\r\n  return (dispatch, getState) => {\r\n    axios\r\n      .delete('/apps/users/delete', { id })\r\n      .then(response => {\r\n        dispatch({\r\n          type: 'DELETE_USER'\r\n        })\r\n      })\r\n      .then(() => {\r\n        dispatch(getData(getState().users.params))\r\n        dispatch(getAllData())\r\n      })\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}